FormInfo ^{
    ISFreeSpcTranc=Свободно:
    br=<br>
}
Artefacts ^{
    ArtTranclucator ^{
        Name=Транклюкатор
        OnActCode ^{
            01=if(ScriptItemActionType(t_OnAnotherItem2))
            01 ^{
                01=dword item = ScriptItemActObject1(t_OnAnotherItem2);
                02=if(item)
                02 ^{
                    01=if(ItemType(item) == t_FuelTanks || ItemType(item) == t_Cistern)
                    01 ^{
                        01=dword tranc = ArtTranclucatorToShip(CurItem());
                        02=dword tank = ShipEqInSlot(tranc, t_FuelTanks);
                        03=if(ShipFuelLow(tranc))
                        03 ^{
                            01=if(ContainerFuel(item))
                            01 ^{
                                01=str text = 'Вы точно хотите заправить <color=0,50,200>' + Name(tranc) + '</color>?';
                                02=if(MessageBoxYesNo(text))
                                02 ^{
                                    01=int refuel = GetEquipmentStats(tank, 0) - ShipFuel(tranc);
                                    02=if(ContainerFuel(item) >= refuel)
                                    02 ^{
                                        01=ShipFuel(tranc, ShipFuel(tranc) + refuel);
                                        02=Sound('Sound.Repair');
                                        03=MessageBox('<color=0,50,200>' + Name(tranc) + '</color> полностью заправлен');
                                        04=ContainerFuel(item, ContainerFuel(item) - refuel);
                                        05=ScriptItemActParam(2);
                                    }
                                    03=else
                                    03 ^{
                                        01=ShipFuel(tranc, ShipFuel(tranc) + ContainerFuel(item));
                                        02=Sound('Sound.Repair');
                                        03=if(count(Name(tranc)) >= 16 && count(Name(tranc)) <= 17) MessageBox('<color=0,50,200>' + Name(tranc) + '</color>' + CT('FormInfo.br') + 'заправлен на <color=0,50,200>' + ContainerFuel(item) + '</color> ед.');
                                        04=else MessageBox('<color=0,50,200>' + Name(tranc) + '</color> заправлен на <color=0,50,200>' + ContainerFuel(item) + '</color> ед.');
                                        05=ContainerFuel(item, 0);
                                        06=ScriptItemActParam(2);
                                    }
                                }
                            }
                            02=else
                            02 ^{
                                01=if(ItemType(item) == t_FuelTanks) MessageBox('Топливный бак пуст, заправить <color=0,50,200>' + Name(tranc) + '</color> из него невозможно');
                                02=else MessageBox('Цистерна пуста, заправить <color=0,50,200>' + Name(tranc) + '</color> из неё невозможно');
                            }
                        }
                        04=else MessageBox('<color=0,50,200>' + Name(tranc) + '</color> в заправке не нуждается');
                    }
                }
            }
        }
        OnActCodeTypes=t_OnAnotherItem2
        OnUseCode ^{
            0=dword cur_tranc;
            01=int ship_tranc = 0;
            02=for(int i = 0; i < ShipArts(Player()); i = i + 1)
            03 ^{
                01=if(ItemType(ShipArts(Player(), i)) == t_ArtefactTranclucator) ship_tranc = ship_tranc + 1;
            }
            04=int talky = 0;
            05=if(IsScriptActive('Mod_ExpTraitors'))
            05 ^{
                01=if(ShipInNormalSpace(Player()))
                01 ^{
                    01=for(i = 0; i < ShipItems(Player()); i = i + 1)
                    01 ^{
                        01=dword item = ShipItems(Player(), i);
                        02=if(ItemType(item) == t_UselessItem)
                        02 ^{
                            01=if(EquipmentImageName(item) == 'ExpTraitors_PirateParrot') talky = 1;
                        }
                    }
                }
            }
            06=int tranc_count_skill = ShipSkill(Player(), 'Technical') - PlayerTranclucators();
            07=if(tranc_count_skill <= 0)
            07 ^{
                01=if(PlayerTranclucators() >= 6)
                01 ^{
                    01=MessageBox('Достигнут лимит одновременно активных транклюкаторов', 10);
                    02=exit;
                }
                02=else
                02 ^{
                    01=MessageBox('Не хватает знания' + CT('FormInfo.br') + 'техники для активации транклюкатора', 10);
                    02=exit;
                }
            }
            08=else
            08 ^{
                01=int tranc_count = 0;
                02=int temp_int = 2;
                03=if(tranc_count_skill > ship_tranc) tranc_count = ship_tranc;
                04=else tranc_count = tranc_count_skill;
                05=int numTrancs = 0;
                06=if(tranc_count < 2)
                06 ^{
                    01=if(GetShipPlanet(Player()))
                    01 ^{
                        01=if(PlanetOwner(GetShipPlanet(Player())) == 6) MessageBox('Запуск транклюкатора на незаселённой планете невозможен');
                        02=else
                        02 ^{
                            01=OnUseCodeTranclucator();
                            02=if(talky)
                            02 ^{
                                01=if(RndObject(1, 100, Player()) <= 66) Sound('Sound.ParrotPhrase4');
                                02=else Sound('Sound.ParrotPhrase1');
                            }
                            03=if(ShipInNormalSpace(Player())) Sound('Sound.UseATranc');
                            04=numTrancs = 1;
                        }
                    }
                    02=else
                    02 ^{
                        01=OnUseCodeTranclucator();
                        02=if(talky)
                        02 ^{
                            01=if(RndObject(1, 100, Player()) <= 66) Sound('Sound.ParrotPhrase4');
                            02=else Sound('Sound.ParrotPhrase1');
                        }
                        03=if(ShipInNormalSpace(Player())) Sound('Sound.UseATranc');
                        04=numTrancs = 1;
                    }
                }
                07=else
                07 ^{
                    01=if(GetShipPlanet(Player()))
                    01 ^{
                        01=if(PlanetOwner(GetShipPlanet(Player())) == 6) MessageBox('Запуск транклюкатора на незаселённой планете невозможен');
                        02=else
                        03 ^{
                            01=cur_tranc = CurItem();
                            02=str temp_str = 'Bm.Items.2ArtTranclucator_s';
                            03=if(EquipmentImageName(cur_tranc) != '') temp_str = 'Bm.Items.2' + DeleteTags(EquipmentImageName(cur_tranc)) + 's';
                            04=numTrancs = NumberBox(temp_str, 'Сколько транклюкаторов вы хотите запустить?', 1, tranc_count, tranc_count);
                            05=if(numTrancs)
                            05 ^{
                                01=OnUseCodeTranclucator();
                                02=for(i = numTrancs - 1; i > 0; i = i - 1) UseTranclucator(Player());
                                03=if(talky)
                                03 ^{
                                    01=if(RndObject(1, 100, Player()) <= 66) Sound('Sound.ParrotPhrase4');
                                    02=else Sound('Sound.ParrotPhrase1');
                                }
                                04=if(ShipInNormalSpace(Player())) Sound('Sound.UseATranc');
                            }
                        }
                    }
                    02=else
                    02 ^{
                        01=cur_tranc = CurItem();
                        02=str temp_str2 = 'Bm.Items.2ArtTranclucator_s';
                        03=if(EquipmentImageName(cur_tranc) != '') temp_str2 = 'Bm.Items.2' + DeleteTags(EquipmentImageName(cur_tranc)) + 's';
                        04=numTrancs = NumberBox(temp_str2, 'Сколько транклюкаторов вы хотите запустить?', 1, tranc_count,tranc_count);
                        05=if(numTrancs)
                        05 ^{
                            01=OnUseCodeTranclucator();
                            02=for(i = numTrancs - 1; i > 0; i = i - 1) UseTranclucator(Player());
                            03=if(talky)
                            03 ^{
                                01=if(RndObject(1, 100, Player()) <= 66) Sound('Sound.ParrotPhrase4');
                                02=else Sound('Sound.ParrotPhrase1');
                            }
                            04=if(ShipInNormalSpace(Player())) Sound('Sound.UseATranc');
                        }
                    }
                }
                08=if(PlayerTranclucators() && numTrancs)
                08 ^{
                    01=InterfaceState('StarMap', 'Tranc_panel', 1);
                    02=if(ShipFindCustomShipInfoByType(Player(), 'TrancPanelMoverInfo') == -1) ShipAddCustomShipInfo(Player(), 'TrancPanelMoverInfo', 'NoShow');
                    03=int activeTrancs = PlayerTranclucators();
                    04=for(i = 1; i <= 6; i = i + 1)
                    04 ^{
                        01=InterfaceState('StarMap', 'TP_but_' + i, -1);
                        02=if(PlayerTranclucators() >= i)
                        02 ^{
                            01=InterfaceState('StarMap', 'TP_but_' + i, 1);
                            02=cur_tranc = PlayerTranclucators(i - 1);
                            03=if(ShipFindCustomShipInfoByType(cur_tranc, 'TrancModAddInfo') == -1) ShipAddCustomShipInfo(cur_tranc, 'TrancModAddInfo', 'NoShow', 0, 0);
                            04=if(~ShipFindCustomShipInfoByType(cur_tranc, 'TrancNPCAddInfo'))
                            04 ^{
                                01=ShipDeleteCustomShipInfo(cur_tranc, 'TrancNPCAddInfo');
                                02=if(~ShipFindCustomShipInfoByType(cur_tranc, 'TrancFakeNavComputerInfo'))
                                02 ^{
                                    01=ShipDeleteCustomShipInfo(cur_tranc, 'TrancFakeNavComputerInfo');
                                    02=ShipAddCustomShipInfo(cur_tranc, 'TrancNavComputerInfo', '', 0, 0, 0, 'True', 'False', '');
                                }
                            }
                            05=if(ShipStar(Player()) == ShipStar(PlayerTranclucators(i - 1)))
                            05 ^{
                                01=if(!IsChameleon(cur_tranc)) InterfaceImage('StarMap', 'TP_but_' + i, 'Alpha,Bm.PanelSpace2.2TranclucatorN');
                                02=else InterfaceImage('StarMap', 'TP_but_' + i, 'Alpha,Bm.PanelSpace2.2' + DeleteTags(Format(EquipmentImageName(cur_tranc), 'Art', '')) + 'N');
                            }
                            06=else
                            06 ^{
                                01=if(!IsChameleon(cur_tranc)) InterfaceImage('StarMap', 'TP_but_' + i, 'Alpha,Bm.PanelSpace2.2TranclucatorH');
                                02=else InterfaceImage('StarMap', 'TP_but_' + i, 'Alpha,Bm.PanelSpace2.2' + DeleteTags(Format(EquipmentImageName(cur_tranc), 'Art', '')) + 'H');
                            }
                        }
                    }
                    06=if(activeTrancs == 1) int shift_X = 2;
                    07=else shift_X = -((activeTrancs - 1) * 16 + (activeTrancs - 2) * 2);
                    08=InterfacePos('StarMap', 'Tranc_panel_sigment_2', shift_X, 0, 0);
                    09=if(!ShipPartners(Player()) && !PlayerPirates())
                    09 ^{
                        01=InterfacePos('StarMap', 'Tranc_panel', 0, 0 + GetMainData('Data.MiniMapPosOffsetY'), 0);
                        02=InterfaceImage('StarMap', 'Tranc_panel_sigment_2', 'Alpha,Bm.PanelSpace2.2TranclucatorPanel');
                        03=InterfaceState('StarMap', 'zaglushka_tranc_ms_blk', -1);
                    }
                    10=else
                    10 ^{
                        01=InterfacePos('StarMap', 'Tranc_panel', 0, 35 + GetMainData('Data.MiniMapPosOffsetY'), 0);
                        02=InterfaceImage('StarMap', 'Tranc_panel_sigment_2', 'Alpha,Bm.PanelSpace2.2TranclucatorPanelPartners');
                        03=InterfaceState('StarMap', 'zaglushka_tranc_ms_blk', 1);
                    }
                }
            }
        }
    }
}
ShipInfo ^{
    AddInfo ^{
        CustomInfos ^{
            TrancAddGunInfo ^{
                Description=Компактное, но крайне мощное осколочное орудие, предназначенное для поражения тяжелобронированных космических целей. Начинённые коррозийным составом снаряды <color=255,240,100>ослабляют броню</color>, а мощный заряд взрывчатки наносит повышенный <color=255,240,100>урон</color> всему бортовому <color=255,240,100>оборудованию</color> судна.
                Description=<clr><clrEnd>
                Description=Наносимый урон: <Data1> ед.
                Description=Дальнобойность: <Data2> ед.
                Description=Орудие заряжено на: <Data3><color=255,240,100>%</color>
                Icon=500
                Name=Орудие "Мусаси"
                OnActCode ^{
                    01=dword cur_info = CurInfo();
                    02=if(ShipCustomShipInfoTextData(0, cur_info, 3) == 'Lock')
                    03 ^{
                        01=if(ScriptItemActionType(t_OnStep, 11))
                        02 ^{
                            01=int chargeL = ShipCustomShipInfoData(0, cur_info, 3);
                            02=if(chargeL < 100) ShipCustomShipInfoData(0, cur_info, 3, chargeL + 7);
                            03=if(ShipCustomShipInfoData(0, cur_info, 3) > 100) ShipCustomShipInfoData(0, cur_info, 3, 100);
                        }
                    }
                    04=else
                    05 ^{
                        01=if(ScriptItemActionType(t_OnStep, 1))
                        02 ^{
                            01=ShipCustomShipInfoTextData(0, cur_info, 1, '0');
                            02=dword tranc = ScriptItemActShip();
                            03=int distT = ShipCustomShipInfoData(0, cur_info, 2);
                            04=int charge = ShipCustomShipInfoData(0, cur_info, 3);
                            05=if(charge >= 100)
                            06 ^{
                                01=for(int i = 1; i <= ShipCntWeapon(tranc); i = i + 1)
                                02 ^{
                                    01=dword gun = ShipWeapon(tranc, i);
                                    02=if(!WeaponTarget(gun)) continue;
                                    03=dword target = WeaponTarget(gun);
                                    04=if(Dist(tranc,target) > distT) continue;
                                    05=if(ObjectType(target) != 4 && ObjectType(target) != 5) continue;
                                    06=ShipCustomShipInfoTextData(0, cur_info, 1, gun);
                                    07=if(FilmFlags(0)) FilmSound('Sound.MusashiGunCharge', tranc);
                                    08=break;
                                }
                            }
                        }
                        03=else if(ScriptItemActionType(t_OnStep, 10))
                        04 ^{
                            01=tranc = ScriptItemActShip();
                            02=distT = ShipCustomShipInfoData(0, cur_info, 2);
                            03=gun = ShipCustomShipInfoTextData(0, cur_info, 1);
                            04=if(gun)
                            05 ^{
                                01=target = WeaponTarget(gun);
                                02=if(target)
                                03 ^{
                                    01=if(Dist(tranc, target) <= distT)
                                    02 ^{
                                        01=int damage = ShipCustomShipInfoData(0, cur_info, 1);
                                        02=damage = damage - ShipProtectability(target) - ShipArmor(target);
                                        03=if(damage < 0) damage = 0;
                                        04=int targetInfo = ShipFindCustomShipInfoByType(target, 'LifeboatLaunchInfo');
                                        05=if(~targetInfo)
                                        06 ^{
                                            01=ShipCustomShipInfoTextData(target, targetInfo, 3, tranc);
                                            02=int temp_dmg = DealDamageToShip(target, tranc, damage, 2+16+128);
                                            03=if(temp_dmg) damage = temp_dmg;
                                        }
                                        07=else damage = DealDamageToShip(target, tranc, damage, 2+16+128);
                                        08=ShipCustomShipInfoData(0, cur_info, 3, 0);
                                        09=ShipCustomShipInfoTextData(0, cur_info, 1, 'Shot');
                                        10=if(FilmFlags(0))
                                        11 ^{
                                            01=if(HullHP(target) > 0) ShowEffect('Weapon.8', 8, target, tranc, damage, 0, 0);
                                            02=else ShowEffect('Weapon.8', 8, target, tranc, damage, 1, 0);
                                            03=FilmSound('Sound.MusashiGunFire', tranc);
                                        }
                                    }
                                    03=else
                                    04 ^{
                                        01=ShipCustomShipInfoTextData(0, cur_info, 1, '0');
                                        02=if(FilmFlags(0)) FilmSound('Sound.MusashiGunOff', tranc);
                                    }
                                }
                                04=else
                                05 ^{
                                    01=ShipCustomShipInfoTextData(0, cur_info, 1, '0');
                                    02=if(FilmFlags(0)) FilmSound('Sound.MusashiGunOff', tranc);
                                }
                            }
                        }
                        05=else if(ScriptItemActionType(t_OnStep, 11))
                        06 ^{
                            01=charge = ShipCustomShipInfoData(0, cur_info, 3);
                            02=if(charge < 100)
                            03 ^{
                                01=if(ShipCustomShipInfoTextData(0, cur_info, 1) != 'Shot') ShipCustomShipInfoData(0, cur_info, 3, charge + 7);
                                02=else ShipCustomShipInfoTextData(0, cur_info, 1, '0');
                                03=if(ShipCustomShipInfoData(0, cur_info, 3) > 100) ShipCustomShipInfoData(0, cur_info, 3, 100);
                            }
                        }
                    }
                }
                OnActCodeTypes=t_OnStep
                OnActStepTypes=1,10,11
            }
            TrancBuffAttackInfo ^{
                Description=Вспомогательный боевой вычислительный модуль, усиливающий любой первый выстрел в ходу ровно <color=255,240,100>в два раза</color>. После применения наступает период нормализации, в течение которого
                Description=робот не может повторно использовать данное устройство.
                Description=<clr><clrEnd>
                Description=<TextData2>
                Icon=501
                Name=Снайперский модуль <br><td=57>"Джэбэ"
                OnActCode ^{
                    01=dword cur_info = CurInfo();
                    02=if(ShipCustomShipInfoTextData(0,CurInfo(),3)=='Lock')
                    03 ^{
                        01=if(ScriptItemActionType(t_OnStep,11))
                        02 ^{
                            01=int chargeL=ShipCustomShipInfoData(0,cur_info,3);
                            02=if(chargeL) ShipCustomShipInfoData(0,cur_info,3,chargeL-1);
                            03=if(ShipCustomShipInfoData(0,cur_info,3)<0)ShipCustomShipInfoData(0,cur_info,3,0);
                            04=chargeL=ShipCustomShipInfoData(0,cur_info,3);
                            05=if(chargeL) ShipCustomShipInfoTextData(0,cur_info,2,'</color>До следующей активации: <color=255,240,100>'+chargeL+'</color> дн.');
                            06=else ShipCustomShipInfoTextData(0,cur_info,2,'Готов к активации');
                        }
                    }
                    04=else
                    05 ^{
                        01=if(ScriptItemActionType(t_OnStep,11))
                        02 ^{
                            01=int chargeT=ShipCustomShipInfoData(0,cur_info,3);
                            02=if(chargeT)
                            03 ^{
                                01=if(!ShipCustomShipInfoData(0,cur_info,2))ShipCustomShipInfoData(0,cur_info,3,chargeT-1);
                                02=else ShipCustomShipInfoData(0,cur_info,2,0);
                                03=if(ShipCustomShipInfoData(0,cur_info,3)<0)ShipCustomShipInfoData(0,cur_info,3,0);
                                04=chargeT=ShipCustomShipInfoData(0,cur_info,3);
                                05=if(chargeT)ShipCustomShipInfoTextData(0,cur_info,2,'</color>До следующей активации: <color=255,240,100>'+chargeT+'</color> дн.');
                                06=else ShipCustomShipInfoTextData(0,cur_info,2,'Готов к активации');
                            }
                        }
                        03=else if(ScriptItemActionType(t_OnMissileShot))
                        04 ^{
                            01=if(ShipCustomShipInfoData(0,cur_info,1))
                            02 ^{
                                01=int slot=ShipCustomShipInfoData(0,cur_info,1);
                                02=if(ItemIsInUse(ScriptItemActObject2(),ScriptItemActShip())==slot)
                                03 ^{
                                    01=ShipCustomShipInfoTextData(0,cur_info,1,Id(ScriptItemActObject2()));
                                }
                            }
                        }
                        05=else if(ScriptItemActionType(t_OnWeaponShot2) || ScriptItemActionType(t_OnMissileShot2))
                        06 ^{
                            01=int charge=ShipCustomShipInfoData(0,cur_info,3);
                            02=if(charge<=0)
                            03 ^{
                                01=if(ShipCustomShipInfoData(0,cur_info,1))
                                02 ^{
                                    01=if(ScriptItemActionType(t_OnWeaponShot2))
                                    02 ^{
                                        01=int slot2=ShipCustomShipInfoData(0,cur_info,1);
                                        02=if(ItemIsInUse(ScriptItemActObject2(),ScriptItemActShip())==slot2)ShipCustomShipInfoTextData(0,cur_info,1,'Shot');
                                        03=else ShipCustomShipInfoTextData(0,cur_info,1,'');
                                    }
                                    03=else
                                    04 ^{
                                        01=if(MissileWeaponID(ScriptItemActObject2())==ShipCustomShipInfoTextData(0,cur_info,1))ShipCustomShipInfoTextData(0,cur_info,1,'Shot');
                                        02=else ShipCustomShipInfoTextData(0,cur_info,1,'');
                                    }
                                }
                                03=else ShipCustomShipInfoTextData(0,cur_info,1,'Shot');
                            }
                            05=else ShipCustomShipInfoTextData(0,cur_info,1,'');
                        }
                        07=else if(ScriptItemActionType(t_OnDealingDamage))
                        08 ^{
                            01=if(ShipCustomShipInfoTextData(0,cur_info,1)=='Shot')
                            02 ^{
                                01=ShipCustomShipInfoTextData(0,cur_info,1,'');
                                02=ScriptItemActParam(ScriptItemActParam()*2);
                                03=ShipCustomShipInfoData(0,cur_info,2,1);
                                04=ShipCustomShipInfoData(0,cur_info,3,10);
                                05=if(ShipStar(ScriptItemActShip())==ShipStar(Player()) && ShipInNormalSpace(Player()))FilmSound('Sound.JebeActive',ScriptItemActShip());
                            }
                        }
                    }
                }
                OnActCodeTypes=t_OnStep,t_OnMissileShot,t_OnWeaponShot2,t_OnMissileShot2,t_OnDealingDamage
                OnActStepTypes=11
            }
            TrancDefShieldInfo ^{
                Description=Создаёт особое дефлекторное поле, частично отклоняющее любые волны и частицы, стремящиеся по направлению к транклюкатору. Обеспечивает роботу стабильную <color=255,240,100>25%</color> защиту от внешнего урона любого типа.
                Description=<clr><clrEnd>
                Description=<TextData1>
                Icon=502
                Name=Дефлектор "Мангуст"
                OnActCode ^{
                    01=if(ShipCustomShipInfoTextData(0, CurInfo(), 3) == 'Lock') exit;
                    02=ScriptItemActParam(round(0.75 * ScriptItemActParam()));
                }
                OnActCodeTypes=t_OnTakingDamage,t_OnTakingDamageEn,t_OnTakingDamageSp,t_OnTakingDamageMi
            }
            TrancFakeNavComputerInfo ^{
                Description=Бортовой навигационный компьютер, какие установлены на любом космическом корабле. Версия для транклюкатора была модифицирована с целью обеспечения полной автономности и независимости от корректировок живого пилота.
                Description=<clr><clrEnd>
                Description=Позволяет этому роботу самостоятельно рассчитывать и совершать <color=255,240,100>гиперпространственные прыжки</color>.
                Icon=504
                Name=Навигационный <br><td=25>компьютер
            }
            TrancInvincibilityInfo ^{
                Description=Мощнейший субквантовый суперкомпьютер, анализирующий все окружающие угрозы, и на время берущий транклюкатора под свой контроль. Автоматически активируется при получении любого урона и на <color=255,240,100>1</color> день обеспечивает роботу <color=255,240,100>полную неуязвимость</color>. После активации временно отключается во избежание выгорания бортовой электроники.
                Description=<clr><clrEnd>
                Description=<TextData2>
                Icon=503
                Name=Защитная система <td=45>"Херувим"
                OnActCode ^{
                    01=dword cur_info = CurInfo();
                    02=if(ShipCustomShipInfoTextData(0,CurInfo(),3)=='Lock')
                    03 ^{
                        01=if(ScriptItemActionType(t_OnStep,11))
                        02 ^{
                            01=int chargeL=ShipCustomShipInfoData(0,cur_info,3);
                            02=if(chargeL)ShipCustomShipInfoData(0,cur_info,3,chargeL-1);
                            03=if(ShipCustomShipInfoData(0,cur_info,3)<0)ShipCustomShipInfoData(0,cur_info,3,0);
                            04=chargeL=ShipCustomShipInfoData(0,cur_info,3);
                            05=if(chargeL)ShipCustomShipInfoTextData(0,cur_info,2,'</color>До следующей активации: <color=255,240,100>'+chargeL+'</color> дн.');
                            06=else ShipCustomShipInfoTextData(0,cur_info,2,'Готова к активации');
                        }
                    }
                    04=else
                    05 ^{
                        01=if(ScriptItemActionType(t_OnStep,11))
                        02 ^{
                            01=int chargeT=ShipCustomShipInfoData(0,cur_info,3);
                            02=if(chargeT)
                            03 ^{
                                01=ShipCustomShipInfoData(0,cur_info,3,chargeT-1);
                                02=if(ShipCustomShipInfoData(0,cur_info,3)<0)ShipCustomShipInfoData(0,cur_info,3,0);
                                03=chargeT=ShipCustomShipInfoData(0,cur_info,3);
                                04=if(chargeT) ShipCustomShipInfoTextData(0,cur_info,2,'</color>До следующей активации: <color=255,240,100>'+chargeT+'</color> дн.');
                                05=else ShipCustomShipInfoTextData(0,cur_info,2,'Готова к активации');
                            }
                            04=if(ShipCustomShipInfoData(0,cur_info,2))
                            05 ^{
                                01=ShipCustomShipInfoData(0,cur_info,2,0);
                                02=ShipCustomShipInfoData(0,cur_info,3,10);
                                03=ShipCustomShipInfoTextData(0,cur_info,2,'</color>До следующей активации: <color=255,240,100>10</color> дн.');
                            }
                        }
                        03=else
                        04 ^{
                            01=int charge = ShipCustomShipInfoData(0, cur_info, 3);
                            02=if(charge <= 0)
                            03 ^{
                                01=ShipDestroy(ScriptItemActShip(),0);
                                02=ScriptItemActParam(0);
                                03=if(ShipStar(ScriptItemActShip())==ShipStar(Player()) && ShipInNormalSpace(Player()))
                                04 ^{
                                    01=if(!ShipCustomShipInfoData(0,cur_info,2))FilmSound('Sound.CherubActive',ScriptItemActShip());
                                    02=if(ScriptItemActionType(t_OnTakingDamage))
                                    03 ^{
                                        01=if(ObjectType(ScriptItemActObject1())==1)ShowEffect('Weapon.NoGraph',0,ScriptItemActShip(),ScriptItemActShip(),0,0,0,255,255,255);
                                        02=else if(ObjectType(ScriptItemActObject1())==6)ShowEffect('Weapon.NoGraph',0,ScriptItemActShip(),ScriptItemActShip(),0,0,0,255,0,0);
                                        03=else ShowEffect('Weapon.NoGraph',0,ScriptItemActShip(),ScriptItemActShip(),0,0,0);
                                    }
                                    04=else ShowEffect('Weapon.NoGraph',0,ScriptItemActShip(),ScriptItemActShip(),0,0,0);
                                }
                                05=ShipCustomShipInfoData(0,cur_info,2,1);
                            }
                        }
                    }
                }
                OnActCodeTypes=t_OnStep,t_OnTakingDamage,t_OnTakingDamageEn,t_OnTakingDamageSp,t_OnTakingDamageMi
                OnActStepTypes=11
            }
            TrancModAddInfo ^{
                Description=Инфошка для расширения возможностей ИИ транклюкатора игрока (скрытая)
                Icon=0
                Name=
                OnActCode ^{
                    01=dword cur_Tranc = ScriptItemActShip();
                    02=if(~ShipFindCustomShipInfoByType(cur_Tranc, 'OrderJumpHole_ForCompanion'))
                    03 ^{
                        01=if(ScriptItemActionType(t_OnStep, 11))
                        02 ^{
                            01=infos = CurInfo();
                            02=if(OrderForsage(cur_Tranc)) ShipCustomShipInfoTextData(0, infos, 3, 'turn');
                        }
                        03=exit;
                    }
                    04=if(ScriptItemActionType(t_OnStep, 0) || ScriptItemActionType(t_OnShowingShipInfo))
                    05 ^{
                        01=if(!bon_init)
                        02 ^{
                            01=int bonus = FindBonusByNameInCfg('EvoTranc_TrancEquipmentHalfSize');
                            02=int bonus2 = FindBonusByNameInCfg('EvoTranc_TrancWeaponHalfSize');
                            03=int bonus3 = FindBonusByNameInCfg('ShuDomiks_FragileEquipment');
                            04=int bon_init = 1;
                        }
                        03=dword infos = CurInfo();
                        04=if(TranclucatorData(cur_Tranc, 'SeekItems'))
                        05 ^{
                            01=if(ShipOrder(cur_Tranc) == 2)
                            02 ^{
                                01=dword planet = ShipCustomShipInfoData(0, infos, 1);
                                02=dword base = ShipCustomShipInfoData(0, infos, 2);
                                03=dword cur_point = ShipOrderObj(cur_Tranc);
                                04=if(planet || base)
                                05 ^{
                                    01=if(Id(cur_point) != planet && Id(cur_point) != base)
                                    02 ^{
                                        01=int distNear = 0;
                                        02=dword star = ShipStar(cur_Tranc);
                                        03=dword closest_base = 0;
                                        04=if(planet)
                                        05 ^{
                                            01=planet = IdToPlanet(planet);
                                            02=if(PlanetToStar(planet) != star)
                                            03 ^{
                                                01=planet = 0;
                                                02=ShipCustomShipInfoData(0, infos, 1, 0);
                                            }
                                        }
                                        06=if(base)
                                        07 ^{
                                            01=base = IdToShip(base);
                                            02=if(!base) ShipCustomShipInfoData(0, infos, 2, 0);
                                            03=else if(ShipStar(base) != star)
                                            04 ^{
                                                01=base = 0;
                                                02=ShipCustomShipInfoData(0, infos, 2, 0);
                                            }
                                        }
                                        08=if(planet && base)
                                        09 ^{
                                            01=if(Dist(cur_Tranc, planet) <= Dist(cur_Tranc, base))
                                            02 ^{
                                                01=OrderLanding(cur_Tranc, planet);
                                                02=ShipCustomShipInfoTextData(0, infos, 2, 'landing');
                                            }
                                            03=else
                                            04 ^{
                                                01=OrderLanding(cur_Tranc, base);
                                                02=ShipCustomShipInfoTextData(0, infos, 2, 'landing');
                                            }
                                        }
                                        10=else if(planet)
                                        11 ^{
                                            01=if(ObjectType(cur_point) == 3)
                                            02 ^{
                                                01=if(TranclucatorData(cur_Tranc, 'LandPermitRuins'))
                                                02 ^{
                                                    01=for(int i = 0; i < StarRuins(star); i = i + 1)
                                                    02 ^{
                                                        01=dword ruin = StarRuins(star, i);
                                                        02=str tempStr = ShipType(ruin);
                                                        03=if(tempStr == 'Inhibitor') continue;
                                                        04=if(tempStr == 'BM') continue;
                                                        07=if(tempStr == 'SSB_licensed') continue;
                                                        08=if(tempStr == 'Handler')
                                                        09 ^{
                                                            01=if(ShipOwner(Player()) != PirateClan && GetShipPirateRank(Player()) < 7) continue;
                                                        }
                                                        10=if(tempStr == 'CB' && ShipOwner(Player()) != 7) continue;
                                                        11=if(!closest_base)
                                                        12 ^{
                                                            01=closest_base = ruin;
                                                            02=distNear = Dist(cur_Tranc, closest_base);
                                                        }
                                                        13=else if(Dist(cur_Tranc, ruin) < distNear)
                                                        14 ^{
                                                            01=closest_base = ruin;
                                                            02=distNear = Dist(cur_Tranc,ruin);
                                                        }
                                                    }
                                                    03=if(closest_base)
                                                    04 ^{
                                                        01=OrderLanding(cur_Tranc, closest_base);
                                                        02=ShipCustomShipInfoTextData(0, infos, 2, 'landing');
                                                    }
                                                    05=else
                                                    06 ^{
                                                        01=OrderLanding(cur_Tranc,planet);
                                                        02=ShipCustomShipInfoTextData(0, infos, 2, 'landing');
                                                    }
                                                }
                                                03=else
                                                04 ^{
                                                    01=OrderLanding(cur_Tranc,planet);
                                                    02=ShipCustomShipInfoTextData(0, infos, 2, 'landing');
                                                }
                                            }
                                        }
                                        12=else if(base)
                                        13 ^{
                                            01=if(ObjectType(cur_point) == 4)
                                            02 ^{
                                                01=if(TranclucatorData(cur_Tranc, 'LandPermitPlanets'))
                                                02 ^{
                                                    01=closest_base = NearCivilPlanet(cur_Tranc);
                                                    02=if(Dist(cur_Tranc, closest_base) <= Dist(cur_Tranc,base))
                                                    03 ^{
                                                        01=OrderLanding(cur_Tranc, closest_base);
                                                        02=ShipCustomShipInfoTextData(0, infos, 2, 'landing');
                                                    }
                                                    04=else
                                                    05 ^{
                                                        01=OrderLanding(cur_Tranc, base);
                                                        02=ShipCustomShipInfoTextData(0, infos, 2, 'landing');
                                                    }
                                                }
                                                03=else
                                                04 ^{
                                                    01=OrderLanding(cur_Tranc, base);
                                                    02=ShipCustomShipInfoTextData(0, infos, 2, 'landing');
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                        06=if(ShipOrder(cur_Tranc) != 2)
                        07 ^{
                            01=if(ShipOrder(cur_Tranc) != 3) OrderLock(cur_Tranc, 0);
                        }
                    }
                    06=else if(ScriptItemActionType(t_OnStep, 11))
                    07 ^{
                        01=infos = CurInfo();
                        02=ShipCustomShipInfoTextData(0, infos, 1, '');
                        03=if(OrderForsage(cur_Tranc)) ShipCustomShipInfoTextData(0, infos, 3, 'turn');
                        04=dword cur_planet = GetShipPlanet(cur_Tranc);
                        05=dword cur_ruin = GetShipRuins(cur_Tranc);
                        06=if(cur_planet || cur_ruin)
                        07 ^{
                            01=if(cur_planet)
                            02 ^{
                                01=if(RelationToRanger(cur_planet, Player()) < 10)
                                02 ^{
                                    01=if(PlanetOwner(cur_planet) != PirateClan)
                                    02 ^{
                                        01=TranclucatorData(cur_Tranc, 'LandStorage', 1);
                                        02=ShipFreeFlight(cur_Tranc);
                                        03=NewsAdd('Ваш <color=255,240,100>' + Name(cur_Tranc) + '</color> был конфискован при совершении посадки на планету <color=255,240,100>' + PlanetName(cur_planet) + '</color>. Для получения робота назад вам придётся явиться за ним лично.');
                                        04=exit;
                                    }
                                    03=else if(cur_planet == PlanetPirateClan())
                                    04 ^{
                                        01=TranclucatorData(cur_Tranc,'LandStorage', 1);
                                        02=ShipFreeFlight(cur_Tranc);
                                        03=NewsAdd('Ваш <color=255,240,100>' + Name(cur_Tranc) + '</color> был конфискован при совершении посадки на <color=255,240,100>Роджерию</color>. Для получения робота назад вам придётся явиться за ним лично.');
                                        04=exit;
                                    }
                                    05=else
                                    06 ^{
                                        01=TranclucatorData(cur_Tranc,'LandStorage', 1);
                                        02=ShipFreeFlight(cur_Tranc);
                                        03=NewsAdd('Ваш <color=255,240,100>' + Name(cur_Tranc) + '</color> был конфискован при совершении посадки на планету <color=255,240,100>' + PlanetName(cur_planet) + '</color>. Для получения робота назад вам придётся явиться за ним лично.');
                                        04=exit;
                                    }
                                }
                            }
                            03=else
                            04 ^{
                                01=if(ShipType(cur_ruin) == 'Handler')
                                02 ^{
                                    01=if(ShipOwner(Player()) != PirateClan || GetShipPirateRank(Player()) < 7)
                                    02 ^{
                                        01=TranclucatorData(cur_Tranc, 'LandStorage', 1);
                                        02=ShipFreeFlight(cur_Tranc);
                                        03=for(int j = 0; j < StorageItems(); j = j + 1)
                                        04 ^{
                                            01=if(StorageItemLocation(j) != cur_ruin) continue;
                                            02=dword temp_item = StorageItems(j);
                                            03=if(ItemType(temp_item) == t_ArtefactTranclucator)
                                            04 ^{
                                                01=if(ArtTranclucatorToShip(temp_item) == cur_Tranc) FreeItem(GetItemFromStorage(j));
                                            }
                                        }
                                        05=exit;
                                    }
                                    03=else if(RelationToRanger(cur_ruin, Player()) < 10)
                                    04 ^{
                                        01=TranclucatorData(cur_Tranc, 'LandStorage', 1);
                                        02=ShipFreeFlight(cur_Tranc);
                                        03=NewsAdd('Ваш <color=255,240,100>' + Name(cur_Tranc) + '</color> был конфискован при совершении посадки на <color=255,240,100>' + Name(cur_ruin) + '</color>. Для получения робота назад вам придётся явиться за ним лично.');
                                        04=exit;
                                    }
                                }
                                03=else
                                04 ^{
                                    01=if(RelationToRanger(cur_ruin, Player()) < 10)
                                    02 ^{
                                        01=if(ShipOwner(cur_ruin) != PirateClan)
                                        02 ^{
                                            01=if(ShipType(cur_ruin) == 'SB')
                                            02 ^{
                                                01=TranclucatorData(cur_Tranc, 'LandStorage', 1);
                                                02=ShipFreeFlight(cur_Tranc);
                                                03=NewsAdd('Ваш <color=255,240,100>' + Name(cur_Tranc) + '</color> был конфискован при совершении посадки на <color=255,240,100>Научную базу ' + ShortName(cur_ruin) + '</color>. Для получения робота назад вам придётся явиться за ним лично.');
                                                04=exit;
                                            }
                                            03=else if(ShipType(cur_ruin) == 'WB')
                                            04 ^{
                                                01=TranclucatorData(cur_Tranc, 'LandStorage', 1);
                                                02=ShipFreeFlight(cur_Tranc);
                                                03=NewsAdd('Ваш <color=255,240,100>' + Name(cur_Tranc) + '</color> был конфискован при совершении посадки на <color=255,240,100>Военную базу ' + ShortName(cur_ruin) + '</color>. Для получения робота назад вам придётся явиться за ним лично.');
                                                04=exit;
                                            }
                                            05=else if(ShipType(cur_ruin) == 'PB')
                                            06 ^{
                                                01=TranclucatorData(cur_Tranc, 'LandStorage', 1);
                                                02=ShipFreeFlight(cur_Tranc);
                                                03=NewsAdd('Ваш <color=255,240,100>' + Name(cur_Tranc) + '</color> был конфискован при совершении посадки на <color=255,240,100>Пиратскую базу ' + ShortName(cur_ruin) + '</color>. Для получения робота назад вам придётся явиться за ним лично.');
                                                04=exit;
                                            }
                                            07=else
                                            08 ^{
                                                01=TranclucatorData(cur_Tranc, 'LandStorage', 1);
                                                02=ShipFreeFlight(cur_Tranc);
                                                03=NewsAdd('Ваш <color=255,240,100>' + Name(cur_Tranc) + '</color> был конфискован при совершении посадки на <color=255,240,100>' + Name(cur_ruin) + '</color>. Для получения робота назад вам придётся явиться за ним лично.');
                                                04=exit;
                                            }
                                        }
                                        03=else
                                        04 ^{
                                            01=if(ShipType(cur_ruin) == 'PB')
                                            02 ^{
                                                01=TranclucatorData(cur_Tranc, 'LandStorage', 1);
                                                02=ShipFreeFlight(cur_Tranc);
                                                03=NewsAdd('Ваш <color=255,240,100>' + Name(cur_Tranc) + '</color> был конфискован при совершении посадки на <color=255,240,100>Пиратскую базу ' + ShortName(cur_ruin) + '</color>. Для получения робота назад вам придётся явиться за ним лично.');
                                                04=exit;
                                            }
                                            03=else
                                            04 ^{
                                                01=TranclucatorData(cur_Tranc, 'LandStorage', 1);
                                                02=ShipFreeFlight(cur_Tranc);
                                                03=NewsAdd('Ваш <color=255,240,100>' + Name(cur_Tranc) + '</color> был конфискован при совершении посадки на <color=255,240,100>' + Name(cur_ruin) + '</color>. Для получения робота назад вам придётся явиться за ним лично.');
                                                04=exit;
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                    08=else if(ScriptItemActionType(t_OnEnteringForm) || ScriptItemActionType(t_OnReEnteringForm))
                    09 ^{
                        01=if(CurrentForm() == 'Ship')
                        01 ^{
                            01=if(GetEquipmentStats(ShipItems(cur_Tranc, 0), 8))
                            01 ^{
                                01=if(ItemDurability(ShipEqInSlot(cur_Tranc, t_Engine)) <= 1)
                                01 ^{
                                    01=InterfaceState('Ship', 'ForsageBut', 0);
                                    02=InterfaceState('Ship', 'ForsageLock', 1);
                                }
                            }
                        }
                        02=else if(CurrentForm() == 'Talk')
                        02 ^{
                            01=if(OrderLock(cur_Tranc)) OrderLock(cur_Tranc, 0);
                        }
                    }
                    10=else if(ScriptItemActionType(t_OnLeavingForm))
                    11 ^{
                        01=infos = CurInfo();
                        02=if(CurrentForm() == 'Talk')
                        03 ^{
                            01=if(ShipOrder(cur_Tranc) == 6)
                            02 ^{
                                01=if(ShipOrderData1(cur_Tranc) == 1)
                                02 ^{
                                    01=if(IsPlayer(ShipOrderObj(cur_Tranc))) ShipOrderData1(cur_Tranc, 0);
                                }
                            }
                            03=if(ShipOrder(cur_Tranc) == 2)
                            04 ^{
                                01=if(TranclucatorData(cur_Tranc, 'SeekItems'))
                                02 ^{
                                    01=if(Id(ShipOrderObj(cur_Tranc)) == ShipCustomShipInfoData(0, infos, 1) || Id(ShipOrderObj(cur_Tranc)) == ShipCustomShipInfoData(0, infos, 2)) OrderLock(cur_Tranc, 1);
                                }
                            }
                            05=if(ShipOrder(cur_Tranc) == 3) OrderLock(cur_Tranc, 1);
                            06=else if(~ShipFindCustomShipInfoByType(cur_Tranc, 'TrancNavComputerInfo'))
                            07 ^{
                                01=int infosJ = ShipFindCustomShipInfoByType(cur_Tranc, 'TrancNavComputerInfo');
                                02=if(ShipCustomShipInfoTextData(cur_Tranc,infosJ, 3) == 'JumpByOrder') ShipCustomShipInfoTextData(cur_Tranc, infosJ, 3, '');
                            }
                        }
                        04=else if(CurrentForm() == 'Ship')
                        05 ^{
                            01=if(InterfaceState('Ship', 'ForsageLock'))
                            02 ^{
                                01=InterfaceState('Ship', 'ForsageBut', -1);
                                02=InterfaceState('Ship', 'ForsageLock', -1);
                            }
                        }
                    }
                    12=else if(ScriptItemActionType(t_OnTakingDamageEn) || ScriptItemActionType(t_OnTakingDamageSp) || ScriptItemActionType(t_OnTakingDamageMi))
                    13 ^{
                        01=infos = CurInfo();
                        02=if(IsPlayer(ScriptItemActObject1()))
                        03 ^{
                            01=if(ShipCustomShipInfoTextData(0, infos, 1) == '')
                            02 ^{
                                01=if(ShipRadarRange(Player()) >= Dist(Player(), cur_Tranc))
                                02 ^{
                                    01=ShipCustomShipInfoTextData(0, infos, 1, 'YouHurtMe!');
                                    02=Dialog(cur_Tranc);
                                }
                            }
                        }
                    }
                    14=else if(ScriptItemActionType(t_OnDeath))
                    15 ^{
                        01=cur_Tranc = ScriptItemActShip();
                        02=TranclucatorData(cur_Tranc, 'Proprietor', 0);
                        03=CreateActCodeEvent(t_OnStep, 'TrancPanelMoverInfo', Player(), 0, 0, 0);
                        04=NewsAdd(Format(CT('GalaxyNews.DeadShip.Tranclucator'), '<Date'+'>', GameDateTxtByTurn(CurTurn()), '<Star'+'>', Name(ShipStar(cur_Tranc)), '<Name'+'>', Name(cur_Tranc)));
                    }
                    16=else
                    17 ^{
                        01=dword itemU = ScriptItemActObject1();
                        02=if(ItemExtraSpecials(itemU))
                        03 ^{
                            01=if(ItemExtraSpecialsCountByType(itemU, bonus))
                            02 ^{
                                01=ScriptItemActParam(round(0.004 * ScriptItemActParam()));
                            }
                            03=else if(ItemExtraSpecialsCountByType(itemU, bonus2))
                            04 ^{
                                01=ScriptItemActParam(round(0.004 * ScriptItemActParam()));
                            }
                            05=else if(ItemExtraSpecialsCountByType(itemU, bonus3))
                            06 ^{
                                01=ScriptItemActParam(round(0.004 * ScriptItemActParam()));
                            }
                        }
                    }
                }
                OnActCodeTypes=t_OnStep,t_OnShowingShipInfo,t_OnReduceEqBattle,t_OnReduceEqUse,t_OnReduceEqForce,t_OnReduceEqForsage,t_OnTakingDamageEn,t_OnTakingDamageSp,t_OnTakingDamageMi,t_OnEnteringForm,t_OnReEnteringForm,t_OnLeavingForm,t_OnDeath
                OnActStepTypes=0,11
            }
            TrancNPCAddInfo ^{
                Description=Инфошка для расширения возможностей ИИ транклюкатора NPC (скрытая)
                Icon=0
                Name=
                OnActCode ^{
                    01=if(ScriptItemActionType(t_OnStep, 0))
                    01 ^{
                        01=if(!bon_init)
                        02 ^{
                            01=int bonus = FindBonusByNameInCfg('EvoTranc_TrancEquipmentHalfSize');
                            02=int bonus2 = FindBonusByNameInCfg('EvoTranc_TrancWeaponHalfSize');
                            03=int bonus3 = FindBonusByNameInCfg('ShuDomiks_FragileEquipment');
                            04=int bon_init = 1;
                        }
                        03=dword cur_info = CurInfo();
                        04=dword tranc = ScriptItemActShip();
                        05=dword owner = TranclucatorData(tranc, 'Proprietor');
                        06=dword item = ShipItems(tranc, 0);
                        07=if(OrderLock(tranc)) OrderLock(tranc, 0);
                        08=if(owner)
                        09 ^{
                            01=str stat = ShipCustomShipInfoTextData(0, cur_info, 3);
                            02=if(stat != 'U')
                            03 ^{
                                01=if(stat!='R')
                                02 ^{
                                    01=if(HullDamage(tranc)) ShipCustomShipInfoTextData(0, cur_info, 3, 'R');
                                }
                                03=if(ItemLevel(item) < 8)
                                04 ^{
                                    01=if(ItemLevel(item) < GalaxyTechLevel()) ShipCustomShipInfoTextData(0, cur_info, 3, 'U');
                                }
                                05=else if(ShipCustomShipInfoData(0, cur_info, 1) > CurTurn())
                                06 ^{
                                    01=ShipCustomShipInfoTextData(0, cur_info, 3, 'U');
                                    02=ShipCustomShipInfoData(0, cur_info, 1, CurTurn() + RndObject(297, 403, tranc));
                                }
                                07=else if(ShipCustomShipInfoData(0, cur_info, 1) == -1) ShipCustomShipInfoData(0, cur_info, 1, CurTurn() + RndObject(297, 403, tranc));
                            }
                            04=if(stat == 'R')
                            05 ^{
                                01=if(!HullDamage(tranc)) ShipCustomShipInfoTextData(0, cur_info, 3, 'N');
                            }
                            06=dword tranc_star = ShipStar(tranc);
                            07=dword owner_star = ShipStar(owner);
                            08=if(tranc_star == owner_star)
                            09 ^{
                                01=if(ShipCustomShipInfoData(0, cur_info, 2))
                                02 ^{
                                    01=TranclucatorData(tranc, 'Docking', 1);
                                    02=if(!ShipCustomShipInfoData(0, cur_info, 3))
                                    03 ^{
                                        01=if(ShipSpeed(tranc) < (2.5 * ShipSpeed(owner)))
                                        02 ^{
                                            01=int speedBon = (2.5 * ShipSpeed(owner)) - ShipSpeed(tranc);
                                            02=ShipSpecialBonuses(tranc, bonSpeed, ShipSpecialBonuses(tranc, bonSpeed) + speedBon);
                                            03=ShipCustomShipInfoTextData(0, cur_info, 2, speedBon);
                                            04=ShipCalcParam(tranc);
                                        }
                                    }
                                    04=else
                                    05 ^{
                                        01=ShipCustomShipInfoData(0, cur_info, 3, ShipCustomShipInfoData(0, cur_info, 3) - 1);
                                    }
                                }
                            }
                            10=else
                            11 ^{
                                01=dword player_star = ShipStar(Player());
                                02=if(tranc_star == player_star || owner_star == player_star)
                                03 ^{
                                    01=if(~ShipFindCustomShipInfoByType(tranc, 'TrancFakeNavComputerInfo'))
                                    02 ^{
                                        01=OrderJump(tranc, owner_star);
                                    }
                                }
                                04=else
                                05 ^{
                                    01=if(!ShipInHyperSpace(tranc))
                                    02 ^{
                                        01=OrderTeleport(tranc, owner_star, CoordX(tranc), CoordY(tranc));
                                        02=ShipOrderData1(tranc, 0);
                                    }
                                }
                            }
                        }
                    }
                    02=else if(ScriptItemActionType(t_OnStep, 11))
                    02 ^{
                        01=cur_info = CurInfo();
                        02=tranc = ScriptItemActShip();
                        03=if(ShipCustomShipInfoTextData(0, cur_info, 2) != '0')
                        04 ^{
                            01=speedBon = ShipCustomShipInfoTextData(0, cur_info, 2);
                            02=ShipSpecialBonuses(tranc, bonSpeed, ShipSpecialBonuses(tranc, bonSpeed) - speedBon);
                            03=ShipCustomShipInfoTextData(0, cur_info, 2, '0');
                        }
                        05=if(ShipOrder(tranc) == 3)
                        06 ^{
                            01=if(!ShipInHyperSpace(tranc)) OrderLock(tranc, 1);
                        }
                        07=owner = TranclucatorData(tranc, 'Proprietor');
                        08=if(!owner)
                        09 ^{
                            01=ShipCustomShipInfoData(0, cur_info, 3, ShipCustomShipInfoData(0, cur_info, 3) - 1);
                            02=if(ShipCustomShipInfoData(0, cur_info, 3) <= 0) ShipDestroy(tranc, 1);
                        }
                    }
                    03=else if(ScriptItemActionType(t_OnDeath))
                    03 ^{
                        01=tranc = ScriptItemActShip();
                        02=owner = TranclucatorData(tranc, 'Proprietor');
                        03=if(owner)
                        04 ^{
                            01=unknown tarr = newarray(1);
                            02=int infos = ShipFindCustomShipInfoByType(owner, 'TrancNPCOwnerInfo');
                            03=int quant = ShipCustomShipInfoData(owner, infos, 3);
                            04=str allId = ShipCustomShipInfoTextData(owner, infos, 1);
                            05=str launched = ShipCustomShipInfoTextData(owner, infos, 2);
                            06=str status = ShipCustomShipInfoTextData(owner, infos, 3);
                            07=dword trancId = Id(tranc);
                            08=for(i = 0; i < quant; i = i + 1)
                            09 ^{
                                01=dword tempId = GetParFromString(allId, ',', i, 0);
                                02=if(trancId == tempId)
                                03 ^{
                                    01=launched = substr(launched, 0, i) + '' + substr(launched, i + 1);
                                    02=ShipCustomShipInfoTextData(owner, infos, 2, launched);
                                    03=status = substr(status, 0, i) + '' + substr(status, i + 1);
                                    04=ShipCustomShipInfoTextData(owner, infos, 3, status);
                                }
                                04=else ArrayAdd(tarr, tempId);
                            }
                            10=quant = quant - 1;
                            11=ShipCustomShipInfoData(owner, infos, 3, quant);
                            12=allId = '';
                            13=for(int i = 1; i <= quant; i = i + 1)
                            14 ^{
                                01=if(i < quant) allId = allId + tarr[i] + ',';
                                02=else allId = allId + tarr[i];
                            }
                            15=ShipCustomShipInfoTextData(owner, infos, 1, allId);
                            16=for(i = 1; i < ShipItems(owner); i = i + 1)
                            17 ^{
                                01=item = ShipItems(owner, i);
                                02=if(EquipmentImageName(item) == 'WeightReserve')
                                03 ^{
                                    01=ItemSize(item, ItemSize(item) - TranclucatorData(tranc, 'ArtSize'));
                                    02=if(ItemSize(item) < 0) ItemSize(item, 0);
                                    03=break;
                                }
                            }
                            18=for(i = 0; i < ShipArts(tranc); i = i + 1)
                            19 ^{
                                01=item = ShipArts(tranc, i);
                                02=if(RndObject(1, 100, tranc) > 20) NoDropItem(item, 1);
                            }
                        }
                    }
                    04=else
                    04 ^{
                        01=dword itemU = ScriptItemActObject1();
                        02=if(ItemExtraSpecials(itemU))
                        02 ^{
                            01=if(ItemExtraSpecialsCountByType(itemU, bonus))
                            01 ^{
                                01=ScriptItemActParam(round(0.004 * ScriptItemActParam()));
                            }
                            02=else if(ItemExtraSpecialsCountByType(itemU, bonus2))
                            02 ^{
                                01=ScriptItemActParam(round(0.004 * ScriptItemActParam()));
                            }
                            03=else if(ItemExtraSpecialsCountByType(itemU, bonus3))
                            03 ^{
                                01=ScriptItemActParam(round(0.004 * ScriptItemActParam()));
                            }
                        }
                    }
                }
                OnActCodeTypes=t_OnStep,t_OnReduceEqBattle,t_OnReduceEqUse,t_OnReduceEqForce,t_OnReduceEqForsage,t_OnDeath
                OnActStepTypes=0,11
            }
            TrancNPCOwnerInfo ^{
                Description=Инфошка NPC-хозяина транклюкаторов (скрытая)
                Icon=0
                Name=
                OnActCode ^{
                    01=if(ScriptItemActionType(t_OnStep, 0))
                    02 ^{
                        01=dword cur_info = CurInfo();
                        02=if(ShipCustomShipInfoData(0, cur_info, 1)) ShipCustomShipInfoData(0, cur_info, 1, ShipCustomShipInfoData(0, cur_info, 1) - 1);
                        03=dword owner = ScriptItemActShip();
                        04=int quant = ShipCustomShipInfoData(0, cur_info, 3);
                        05=if(quant)
                        06 ^{
                            01=str allId = ShipCustomShipInfoTextData(0, cur_info, 1);
                            02=str launched = ShipCustomShipInfoTextData(0, cur_info, 2);
                            03=str status = ShipCustomShipInfoTextData(0, cur_info, 3);
                            04=if(ShipInNormalSpace(owner))
                            05 ^{
                                01=if(ShipCustomShipInfoData(0, cur_info, 2)) ShipCustomShipInfoData(0, cur_info, 2, 0);
                                02=if(ShipOrder(owner) == 6)
                                02 ^{
                                    01=if(ShipOrderData1(owner) == 1)
                                    01 ^{
                                        01=if(ShipGetBad(owner))
                                        01 ^{
                                            01=if(~findsubstr(launched, 'N') || ~findsubstr(launched, 'R'))
                                            01 ^{
                                                01=for(int i = 0; i < quant; i = i + 1)
                                                01 ^{
                                                    01=if(findsubstr(launched, 'N') == i)
                                                    01 ^{
                                                        01=dword tranc = UseTranclucator(owner);
                                                        02=if(~ShipFindCustomShipInfoByType(owner, 'bioMM_AD_NPC'))
                                                        02 ^{
                                                            01=ShipSpecialBonuses(tranc, bonSkill1, ShipSpecialBonuses(tranc, bonSkill1) + CT('ShipInfo.AddInfo.CustomInfos.bioMM_AD_NPC.bonSkill1'));
                                                            02=ShipSpecialBonuses(tranc, bonSkill2, ShipSpecialBonuses(tranc, bonSkill2) + CT('ShipInfo.AddInfo.CustomInfos.bioMM_AD_NPC.bonSkill2'));
                                                            03=ShipSpecialBonuses(tranc, bonWEnergy, ShipSpecialBonuses(tranc, bonWEnergy) + CT('ShipInfo.AddInfo.CustomInfos.bioMM_AD_NPC.bonWEnergy'));
                                                            04=ShipSpecialBonuses(tranc, bonWSplinter, ShipSpecialBonuses(tranc, bonWSplinter) + CT('ShipInfo.AddInfo.CustomInfos.bioMM_AD_NPC.bonWSplinter'));
                                                            05=ShipSpecialBonuses(tranc, bonWMissile, ShipSpecialBonuses(tranc, bonWMissile) + CT('ShipInfo.AddInfo.CustomInfos.bioMM_AD_NPC.bonWMissile'));
                                                            06=ShipAddCustomShipInfo(tranc, 'bioMM_AD_TR_NPC');
                                                        }
                                                        03=launched = substr(launched, 0, i) + 'Y' + substr(launched, i + 1);
                                                        04=ShipCustomShipInfoTextData(0, cur_info, 2, launched);
                                                        05=status = substr(status, 0, i) + 'Z' + substr(status, i + 1);
                                                        06=ShipCustomShipInfoTextData(0, cur_info, 3, status);
                                                        07=for(int j = 1; j < ShipItems(owner); j = j + 1)
                                                        07 ^{
                                                            01=dword item = ShipItems(owner, j);
                                                            02=if(EquipmentImageName(item) == 'WeightReserve')
                                                            02 ^{
                                                                01=ItemSize(item, ItemSize(item) + TranclucatorData(tranc, 'ArtSize'));
                                                                02=break;
                                                            }
                                                        }
                                                    }
                                                    02=else if(findsubstr(launched, 'R') == i)
                                                    02 ^{
                                                        01=tranc = IdToShip(GetParFromString(allId, ',', i, 0));
                                                        02=ShipCustomShipInfoData(tranc, 'TrancNPCAddInfo', 2, 0);
                                                        03=TranclucatorData(tranc, 'Docking', 0);
                                                        04=launched = substr(launched, 0, i) + 'Y' + substr(launched, i + 1);
                                                        05=ShipCustomShipInfoTextData(0, cur_info, 2, launched);
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                            06=else if(GetShipPlanet(owner) || GetShipRuins(owner))
                            07 ^{
                                01=if(!ShipCustomShipInfoData(0, cur_info, 2))
                                02 ^{
                                    01=if(GetShipPlanet(owner)) dword place = GetShipPlanet(owner);
                                    02=else place = GetShipRuins(owner);
                                    03=if(~findsubstr(status, 'R') || ~findsubstr(status, 'U'))
                                    04 ^{
                                        01=int repCheck = 0;
                                        02=int updCheck = 0;
                                        03=for(i = 0; i < quant; i = i + 1)
                                        04 ^{
                                            01=repCheck = 0;
                                            02=updCheck = 0;
                                            03=if(findsubstr(status, 'R') == i) repCheck = 1;
                                            04=else if(findsubstr(status, 'U') == i)
                                            05 ^{
                                                01=updCheck = 1;
                                                02=repCheck = 1;
                                            }
                                            06=if(repCheck || updCheck)
                                            07 ^{
                                                01=tranc = GetParFromString(allId, ',', i, 0);
                                                02=for(j = 0; j < ShipArts(owner); j = j + 1)
                                                03 ^{
                                                    01=dword temp_tranc = ShipArts(owner, j);
                                                    02=if(ItemType(temp_tranc) == t_ArtefactTranclucator)
                                                    03 ^{
                                                        01=temp_tranc = ArtTranclucatorToShip(temp_tranc);
                                                        02=if(tranc == Id(temp_tranc))
                                                        03 ^{
                                                            01=tranc = temp_tranc;
                                                            02=break;
                                                        }
                                                    }
                                                }
                                                04=if(updCheck)
                                                05 ^{
                                                    01=for(j = 1; j < ShipItems(tranc); j = j + 1)
                                                    01 ^{
                                                        01=item = ShipItems(tranc, j);
                                                        02=if(!ItemIsInUse(item)) continue;
                                                        03=if(ItemLevel(item) < GalaxyTechLevel())
                                                        04 ^{
                                                            01=if(RndObject(1, 100, owner) <= 75)
                                                            02 ^{
                                                                01=dword new_item;
                                                                02=if(ItemType(item) != t_CustomWeapon) new_item = CreateEquipment(ItemType(item), ItemSize(item),GalaxyTechLevel(), ItemOwner(item));
                                                                03=else new_item = CreateCustomWeapon(CustomWeaponType(item), ItemSize(item), GalaxyTechLevel(), ItemOwner(item));
                                                                04=if(~EqSpecial(item)) SpecialToEquipment(EqSpecial(item), new_item);
                                                                05=if(~EqModule(item)) ModuleToEquipment(EqModule(item), new_item);
                                                                06=ItemLevel(item, GalaxyTechLevel());
                                                                07=ItemCost(item, ItemCost(new_item));
                                                                08=FreeItem(new_item);
                                                            }
                                                            03=if(ItemSize(item) > 1)
                                                            04 ^{
                                                                01=if(RndObject(1, 100, owner) <= 30)
                                                                02 ^{
                                                                    01=int bon1 = FindBonusByNameInCfg('EvoTranc_TrancEquipmentHalfSize');
                                                                    02=int bon2 = FindBonusByNameInCfg('EvoTranc_TrancWeaponHalfSize');
                                                                    03=if(ItemExtraSpecialsCountByType(item, bon1) == -1 && ItemExtraSpecialsCountByType(item, bon2) == -1)
                                                                    04 ^{
                                                                        01=ItemSize(item, max(ItemSize(item) / 2, 1));
                                                                        02=if(ItemType(item) >= t_FuelTanks && ItemType(item) <= t_DefGenerator) ItemExtraSpecialsAddByType(item, bon1);
                                                                        03=else ItemExtraSpecialsAddByType(item, bon2);
                                                                        04=SetName(item, Name(item) + CT('Script.Mod_EvoTranc.ForTrancs'));
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    }
                                                    03=item = ShipItems(tranc, 0);
                                                    04=int level = ItemLevel(item);
                                                    05=if(level < GalaxyTechLevel())
                                                    05 ^{
                                                        01=int diff = GalaxyTechLevel() - level;
                                                        02=ItemLevel(item, GalaxyTechLevel());
                                                        03=ItemSize(item, ItemSize(item) + (75 * diff));
                                                        04=ItemExtraSpecialsAddByType(item, FindBonusByNameInCfg('EvoTranc_TrancSizePlus'), diff);
                                                        05=for(j = diff; j > 0; j = j - 1) ItemCost(item, round(1.12 * ItemCost(item)));
                                                        06=for(j = diff; j > 0; j = j - 1) ItemCost(item, round(1.25 * ItemCost(item)));
                                                        07=level = ItemLevel(item);
                                                    }
                                                    06=if(!GetEquipmentStats(item, 3))
                                                    06 ^{
                                                        01=if(level >= 3)
                                                        02 ^{
                                                            01=if(RndObject(1, 100, owner) <= 35)
                                                            02 ^{
                                                                01=ItemExtraSpecialsAddByType(item, FindBonusByNameInCfg('EvoTranc_TrancAddSlotRadar'));
                                                                02=ItemSize(item, ItemSize(item) - 25);
                                                                03=ItemCost(item, round(1.07 * ItemCost(item)));
                                                            }
                                                        }
                                                    }
                                                    07=if(!GetEquipmentStats(item, 4))
                                                    07 ^{
                                                        01=if(level >= 3)
                                                        02 ^{
                                                            01=if(RndObject(1, 100, owner) <= 22)
                                                            02 ^{
                                                                01=ItemExtraSpecialsAddByType(item, FindBonusByNameInCfg('EvoTranc_TrancAddSlotScaner'));
                                                                02=ItemSize(item, ItemSize(item) - 25);
                                                                03=ItemCost(item, round(1.04 * ItemCost(item)));
                                                            }
                                                        }
                                                    }
                                                    08=if(!GetEquipmentStats(item, 8))
                                                    08 ^{
                                                        01=if(level >= 4)
                                                        02 ^{
                                                            01=if(RndObject(1, 100, owner) <= 15)
                                                            02 ^{
                                                                01=ItemExtraSpecialsAddByType(item, FindBonusByNameInCfg('EvoTranc_TrancAddSlotForsage'));
                                                                02=ItemSize(item, ItemSize(item) - 25);
                                                                03=ItemCost(item, round(1.07 * ItemCost(item)));
                                                            }
                                                        }
                                                    }
                                                    09=if(ShipFindCustomShipInfoByType(tranc,'TrancAddGunInfo') == -1)
                                                    09 ^{
                                                        01=if(level >= 4)
                                                        02 ^{
                                                            01=if(RndObject(1, 100, owner) <= 15) ShipAddCustomShipInfo(tranc, 'TrancAddGunInfo', '', GetValueFromScript('Mod_EvoTranc', 'MusashiDamageArray', level), GetValueFromScript('Mod_EvoTranc','MusashiRangeArray', level), 100, '0');
                                                        }
                                                    }
                                                    10=else
                                                    10 ^{
                                                        01=int infos = ShipFindCustomShipInfoByType(tranc, 'TrancAddGunInfo');
                                                        02=ShipCustomShipInfoData(tranc, infos, 1, GetValueFromScript('Mod_EvoTranc', 'MusashiDamageArray', level));
                                                        03=ShipCustomShipInfoData(tranc, infos, 2, GetValueFromScript('Mod_EvoTranc', 'MusashiRangeArray', level));
                                                    }
                                                    11=if(ShipFindCustomShipInfoByType(tranc,'TrancBuffAttackInfo') == -1)
                                                    11 ^{
                                                        01=if(level >= 5)
                                                        02 ^{
                                                            01=if(RndObject(1, 100, owner) <= 10) ShipAddCustomShipInfo(tranc, 'TrancBuffAttackInfo', '', 0, 0, 0, '', CT('Script.Mod_EvoTranc.RedMus'));
                                                        }
                                                    }
                                                    12=if(ShipFindCustomShipInfoByType(tranc, 'TrancDefShieldInfo') == -1)
                                                    12 ^{
                                                        01=if(level >= 4)
                                                        02 ^{
                                                            01=if(RndObject(1, 100, owner) <= 15) ShipAddCustomShipInfo(tranc, 'TrancDefShieldInfo', '', 0, 0, 0, CT('Script.Mod_EvoTranc.RedDef'));
                                                        }
                                                    }
                                                    13=if(ShipFindCustomShipInfoByType(tranc, 'TrancInvincibilityInfo') == -1)
                                                    13 ^{
                                                        01=if(level >= 6)
                                                        02 ^{
                                                            01=if(RndObject(1, 100, owner) <= 10) ShipAddCustomShipInfo(tranc, 'TrancInvincibilityInfo', '', 0, 0, 0, '', CT('Script.Mod_EvoTranc.RedChe'));
                                                        }
                                                    }
                                                    14=if(ShipFindCustomShipInfoByType(tranc, 'TrancFakeNavComputerInfo') == -1)
                                                    14 ^{
                                                        01=if(level >= 3)
                                                        02 ^{
                                                            01=if(RndObject(1, 100, owner) <= 35)
                                                            02 ^{
                                                                01=ShipAddCustomShipInfo(tranc, 'TrancFakeNavComputerInfo');
                                                                02=ItemCost(item, round(1.15 * ItemCost(item)));
                                                            }
                                                        }
                                                    }
                                                    15=ShipMoney(tranc, ShipMoney(owner) * 2);
                                                    16=ShipRefit(tranc);
                                                    17=ShipRefit(tranc);
                                                    18=ShipMoney(tranc, 0);
                                                    19=if(IsScriptActive('Mod_ExpExplorers'))
                                                    19 ^{
                                                        01=if(RndObject(1, 100, owner) <= 15 && ShipArts(tranc) <= 4)
                                                        01 ^{
                                                            01=dword artNum = 0;
                                                            02=if(IsScriptActive('Mod_ExpArts'))
                                                            02 ^{
                                                                01=while(!artNum || artNum == 6 || artNum == 11 || artNum == 12 || artNum == 20 || artNum == 24 || artNum == 25 || artNum == 30) artNum = RndObject(1, 31, owner);
                                                            }
                                                            03=else
                                                            03 ^{
                                                                01=while(!artNum || artNum == 6 || artNum == 11 || artNum == 12 || artNum == 20 || artNum == 24 || artNum == 25) artNum = RndObject(1, 27, owner);
                                                            }
                                                            04=if(artNum <= 27)
                                                            04 ^{
                                                                01=if(RndObject(1, 100, owner) <= 10) artNum = CreateArt(GgiveArtsArray[artNum], 6);
                                                                02=else artNum = CreateArt(GgiveArtsArray[artNum], RndObject(0, 4, owner));
                                                                03=if(ShipFreeSpace(tranc) < ItemSize(artNum)) ItemSize(item, ItemSize(item) + (ItemSize(artNum) - ShipFreeSpace(tranc)));
                                                                04=AddItemToShip(tranc, artNum);
                                                                05=ItemIsInUse(artNum, tranc, 1);
                                                            }
                                                            05=else
                                                            05 ^{
                                                                01=if(RndObject(1, 100, owner) <= 10) int t_race = 6;
                                                                02=else t_race = RndObject(0, 4, owner);
                                                                03=artNum = CreateCustomArt(GgiveArtsArray[artNum], CustomArtSizeCalc(int(CT('Artefacts.CustomArtefacts.' + GgiveArtsArray[artNum] + '.Size'))), CustomArtCostCalc(int(CT('Artefacts.CustomArtefacts.' + GgiveArtsArray[artNum] + '.Cost'))), t_race);
                                                                04=if(ShipFreeSpace(tranc) < ItemSize(artNum)) ItemSize(item, ItemSize(item) + (ItemSize(artNum) - ShipFreeSpace(tranc)));
                                                                05=AddItemToShip(tranc, artNum);
                                                                06=ItemIsInUse(artNum, tranc, 1);
                                                            }
                                                        }
                                                    }
                                                    20=ShipImproveItems(tranc, RndObject(1, 3, owner));
                                                    21=HullHP(tranc, 'To100');
                                                }
                                                06=if(repCheck)
                                                07 ^{
                                                    01=HullHP(tranc, 'To100');
                                                    02=for(j = 1; j < ShipItems(tranc); j = j + 1)
                                                    03 ^{
                                                        01=item = ShipItems(tranc, j);
                                                        02=ItemDurability(item, 100);
                                                    }
                                                    04=for(j = 0; j < ShipArts(tranc); j = j + 1)
                                                    05 ^{
                                                        01=item = ShipArts(tranc, j);
                                                        02=ItemDurability(item, 100);
                                                    }
                                                }
                                                08=status = substr(status, 0, i) + 'N' + substr(status, i + 1);
                                                09=ShipCustomShipInfoTextData(0, cur_info, 3, status);
                                                10=ShipCustomShipInfoTextData(tranc, ShipFindCustomShipInfoByType(tranc, 'TrancNPCAddInfo'), 3, 'N');
                                            }
                                        }
                                    }
                                    05=if(!ShipCustomShipInfoData(0, cur_info, 1))
                                    06 ^{
                                        01=if(quant < 6 && !findsubstr(ShipType(owner), 'PlayerMerc'))
                                        02 ^{
                                            01=if(!quant) int roll2 = 80 + GalaxyTechLevel();
                                            02=else if(quant == 1) roll2 = 52 + GalaxyTechLevel();
                                            03=else if(quant == 2) roll2 = 21 + GalaxyTechLevel();
                                            04=else if(quant == 3) roll2 = 11 + GalaxyTechLevel();
                                            05=else if(quant == 4) roll2 = 6 + GalaxyTechLevel();
                                            06=else if(quant == 5) roll2 = 1 + GalaxyTechLevel();
                                            07=if(RndObject(1, 100, owner) <= roll2)
                                            08 ^{
                                                01=if(RndObject(1, 100, owner) <= 7) dword tranc_item = CreateArt(t_ArtefactTranclucator, 6);
                                                02=else if(RndObject(1, 100, owner) <= 75)
                                                02 ^{
                                                    01=if(ShipOwner(owner) == 7) tranc_item = CreateArt(t_ArtefactTranclucator, 7);
                                                    02=else tranc_item = CreateArt(t_ArtefactTranclucator, ShipPilotRace(owner));
                                                }
                                                03=else tranc_item = CreateArt(t_ArtefactTranclucator, RndObject(0, 4, owner));
                                                04=ItemSize(tranc_item, ItemSize(tranc_item) + RndObject(-9, 25, owner));
                                                05=TranclucatorData(ArtTranclucatorToShip(tranc_item), 'ArtSize', ItemSize(tranc_item));
                                                06=AddItemToShip(owner, tranc_item);
                                                07=NoDropItem(tranc_item, 1);
                                                08=ShipImproveItems(owner, 0);
                                                09=HullHP(owner, 'To100');
                                                10=tranc = ArtTranclucatorToShip(tranc_item);
                                                11=TranclucatorData(tranc, 'Proprietor', owner);
                                                12=item = ShipItems(tranc, 0);
                                                13=int level2 = ItemLevel(item);
                                                14=if(level2 >= 3)
                                                14 ^{
                                                    01=if(RndObject(1, 100, owner) <= level2 + 9)
                                                    02 ^{
                                                        01=ItemExtraSpecialsAddByType(item, FindBonusByNameInCfg('EvoTranc_TrancAddSlotRadar'));
                                                        02=ItemSize(item, ItemSize(item) - 25);
                                                        03=ItemCost(item, round(1.07 * ItemCost(item)));
                                                    }
                                                }
                                                15=if(level2 >= 3)
                                                15 ^{
                                                    01=if(RndObject(1, 100, owner) <= level2 + 3)
                                                    02 ^{
                                                        01=ItemExtraSpecialsAddByType(item, FindBonusByNameInCfg('EvoTranc_TrancAddSlotScaner'));
                                                        02=ItemSize(item, ItemSize(item) - 25);
                                                        03=ItemCost(item, round(1.04 * ItemCost(item)));
                                                    }
                                                }
                                                16=if(level2 >= 4)
                                                16 ^{
                                                    01=if(RndObject(1, 100, owner) <= level2 - 1)
                                                    02 ^{
                                                        01=ItemExtraSpecialsAddByType(item, FindBonusByNameInCfg('EvoTranc_TrancAddSlotForsage'));
                                                        02=ItemSize(item, ItemSize(item) - 25);
                                                        03=ItemCost(item, round(1.07 * ItemCost(item)));
                                                    }
                                                }
                                                17=ShipMoney(tranc, ShipMoney(owner) * 2);
                                                18=ShipRefit(tranc);
                                                19=ShipRefit(tranc);
                                                20=ShipMoney(tranc, 0);
                                                21=for(i = 1; i < ShipItems(tranc); i = i + 1)
                                                21 ^{
                                                    01=item = ShipItems(tranc, i);
                                                    02=if(ItemSize(item) > 1)
                                                    03 ^{
                                                        01=if(RndObject(1, 100, owner) <= level2 + 7)
                                                        02 ^{
                                                            01=int bon1n = FindBonusByNameInCfg('EvoTranc_TrancEquipmentHalfSize');
                                                            02=int bon2n = FindBonusByNameInCfg('EvoTranc_TrancWeaponHalfSize');
                                                            03=if(ItemExtraSpecialsCountByType(item, bon1n) == -1 && ItemExtraSpecialsCountByType(item, bon2n) == -1)
                                                            04 ^{
                                                                01=ItemSize(item, ItemSize(item) / 2);
                                                                02=if(!ItemSize(item)) ItemSize(item, 1);
                                                                03=if(ItemType(item) >= t_FuelTanks && ItemType(item) <= t_DefGenerator) ItemExtraSpecialsAddByType(item, bon1n);
                                                                04=else ItemExtraSpecialsAddByType(item, bon2n);
                                                                05=SetName(item, Name(item) + CT('Script.Mod_EvoTranc.ForTrancs'));
                                                            }
                                                        }
                                                    }
                                                }
                                                22=item = ShipItems(tranc, 0);
                                                23=if(level2 >= 4)
                                                23 ^{
                                                    01=if(RndObject(1, 100, owner) <= level2) ShipAddCustomShipInfo(tranc, 'TrancAddGunInfo', '', GetValueFromScript('Mod_EvoTranc', 'MusashiDamageArray', level2), GetValueFromScript('Mod_EvoTranc', 'MusashiRangeArray', level2), 100, '0');
                                                }
                                                24=if(level2 >= 5)
                                                24 ^{
                                                    01=if(RndObject(1, 100, owner) <= level2 - 2) ShipAddCustomShipInfo(tranc, 'TrancBuffAttackInfo', '', 0,0,0, '', CT('Script.Mod_EvoTranc.RedMus'));
                                                }
                                                25=if(level2 >= 4)
                                                25 ^{
                                                    01=if(RndObject(1, 100, owner) <= level2) ShipAddCustomShipInfo(tranc, 'TrancDefShieldInfo', '', 0,0,0, CT('Script.Mod_EvoTranc.RedDef'));
                                                }
                                                26=if(level2 >= 6)
                                                26 ^{
                                                    01=if(RndObject(1, 100, owner) <= level2 - 3) ShipAddCustomShipInfo(tranc, 'TrancInvincibilityInfo', '', 0,0,0, '', CT('Script.Mod_EvoTranc.RedChe'));
                                                }
                                                27=if(ShipFindCustomShipInfoByType(tranc, 'TrancFakeNavComputerInfo') == -1)
                                                27 ^{
                                                    01=if(level2 >= 3)
                                                    01 ^{
                                                        01=if(RndObject(1, 100, owner) <= 45)
                                                        01 ^{
                                                            01=ShipAddCustomShipInfo(tranc, 'TrancFakeNavComputerInfo');
                                                            02=ItemCost(item, round(1.15 * ItemCost(item)));
                                                        }
                                                    }
                                                }
                                                28=ShipImproveItems(tranc, RndObject(1, 2, owner));
                                                29=HullHP(tranc, 'To100');
                                                30=if(1)
                                                30 ^{
                                                    01=if(ShipOwner(owner) == PirateClan)
                                                    01 ^{
                                                        01=Chameleon(tranc, 'Ship.TranclucatorWhite');
                                                        02=TranclucatorData(tranc, 'ArtSysName', 'ArtTranclucatorWhite');
                                                        03=EquipmentImageName(tranc_item, 'ArtTranclucatorWhite');
                                                    }
                                                    02=else
                                                    02 ^{
                                                        01=int owner_race = ShipPilotRace(owner);
                                                        02=if(owner_race == Maloc)
                                                        02 ^{
                                                            01=Chameleon(tranc, 'Ship.TranclucatorRed');
                                                            02=TranclucatorData(tranc, 'ArtSysName', 'ArtTranclucatorRed');
                                                            03=EquipmentImageName(tranc_item, 'ArtTranclucatorRed');
                                                        }
                                                        03=else if(owner_race == Peleng)
                                                        03 ^{
                                                            01=Chameleon(tranc, 'Ship.TranclucatorGreen');
                                                            02=TranclucatorData(tranc, 'ArtSysName', 'ArtTranclucatorGreen');
                                                            03=EquipmentImageName(tranc_item, 'ArtTranclucatorGreen');
                                                        }
                                                        04=else if(owner_race == People)
                                                        04 ^{
                                                            01=Chameleon(tranc, 'Ship.TranclucatorBlue');
                                                            02=TranclucatorData(tranc, 'ArtSysName', 'ArtTranclucatorBlue');
                                                            03=EquipmentImageName(tranc_item, 'ArtTranclucatorBlue');
                                                        }
                                                        05=else if(owner_race == Fei)
                                                        05 ^{
                                                            01=Chameleon(tranc, 'Ship.TranclucatorViolet');
                                                            02=TranclucatorData(tranc, 'ArtSysName', 'ArtTranclucatorViolet');
                                                            03=EquipmentImageName(tranc_item, 'ArtTranclucatorViolet');
                                                        }
                                                        06=else if(owner_race == Gaal)
                                                        06 ^{
                                                            01=Chameleon(tranc, 'Ship.TranclucatorYellow');
                                                            02=TranclucatorData(tranc, 'ArtSysName', 'ArtTranclucatorYellow');
                                                            03=EquipmentImageName(tranc_item, 'ArtTranclucatorYellow');
                                                        }
                                                    }
                                                }
                                                31=if(RndObject(1, 100, owner) <= 93)
                                                31 ^{
                                                    01=int names_count = CT('ShipName.Tranclucator.Count');
                                                    02=str tranc_name = CT('ShipName.Tranclucator.' + RndObject(1, names_count, owner));
                                                    03=while(~findsubstr(last_spawned_tranc_names_global, '*' + tranc_name + '*')) tranc_name = CT('ShipName.Tranclucator.' + RndObject(1, names_count, owner));
                                                    04=last_spawned_tranc_names_global = last_spawned_tranc_names_global + tranc_name + '*';
                                                    05=if(ParsCountFromString(last_spawned_tranc_names_global, '*') > (names_count - 10 + 2))
                                                    06 ^{
                                                        01=last_spawned_tranc_names_global = SetParFromString(last_spawned_tranc_names_global, '*', 1, '');
                                                        02=last_spawned_tranc_names_global = substr(last_spawned_tranc_names_global, 1);
                                                    }
                                                    07=SetName(tranc, tranc_name);
                                                }
                                                32=quant = quant + 1;
                                                33=ShipCustomShipInfoData(0, cur_info, 3, quant);
                                                34=if(allId != '') allId = allId + ',' + Id(tranc);
                                                35=else allId = Id(tranc);
                                                36=ShipCustomShipInfoTextData(0, cur_info, 1, allId);
                                                37=launched = launched + 'N';
                                                38=ShipCustomShipInfoTextData(0, cur_info, 2, launched);
                                                39=status = status + 'N';
                                                40=ShipCustomShipInfoTextData(0, cur_info, 3, status);
                                                41=TranclucatorData(tranc, 'AutoArrange', 1);
                                                42=if(level2 < 8) ShipAddCustomShipInfo(tranc, 'TrancNPCAddInfo', 'NoShow', -1, 0, 0, '', '0', 'N');
                                                43=else ShipAddCustomShipInfo(tranc, 'TrancNPCAddInfo', 'NoShow', CurTurn() + RndObject(297, 403, owner), 0, 0, '', '', 'N');
                                                44=if(ShipSkill(owner, 'Technical') < quant) ShipSkill(owner, 'Technical', quant);
                                                45=ShipCustomShipInfoData(0, cur_info, 1, RndObject(207, 459, owner));
                                            }
                                            09=else ShipCustomShipInfoData(0, cur_info, 1, RndObject(207, 459, owner));
                                        }
                                        03=else ShipCustomShipInfoData(0, cur_info, 1, RndObject(207, 459, owner));
                                    }
                                    07=for(i = 0; i < ShipArts(owner); i = i + 1)
                                    08 ^{
                                        01=item = ShipArts(owner, i);
                                        02=if(ItemType(item) == t_ArtefactTranclucator)
                                        03 ^{
                                            01=EquipmentImageName(item, TranclucatorData(ArtTranclucatorToShip(item), 'ArtSysName'));
                                        }
                                    }
                                    09=ShipCustomShipInfoData(0, cur_info, 2, 1);
                                }
                            }
                        }
                        07=if(ShipInHyperSpace(owner))
                        08 ^{
                            01=if(ShipFreeSpace(owner) < 0)
                            02 ^{
                                01=int overload = abs(ShipFreeSpace(owner));
                                02=for(i = 1; i < ShipItems(owner); i = i + 1)
                                03 ^{
                                    01=item = ShipItems(owner, i);
                                    02=if(ItemIsInUse(item)) continue;
                                    03=if(ItemInScript(item) == 1) continue;
                                    04=if((ItemType(item) >= 0 && ItemType(item) <= 7) || ItemType(item) == t_Protoplasm || ItemType(item) == t_UselessCountableItem)
                                    05 ^{
                                        01=if(ItemSize(item) > overload)
                                        02 ^{
                                            01=ItemSize(item, ItemSize(item) - overload);
                                            02=overload = 0;
                                            03=break;
                                        }
                                        03=else
                                        04 ^{
                                            01=overload = overload - ItemSize(item);
                                            02=FreeItem(GetItemFromShip(owner, i));
                                            03=i = i - 1;
                                            04=if(!overload) break;
                                        }
                                    }
                                    06=else
                                    07 ^{
                                        01=overload = overload - ItemSize(item);
                                        02=FreeItem(GetItemFromShip(owner, i));
                                        03=i = i - 1;
                                        04=if(overload <= 0)
                                        05 ^{
                                            01=overload = 0;
                                            02=break;
                                        }
                                    }
                                }
                                04=if(overload)
                                05 ^{
                                    01=for(i = 0; i < ShipArts(owner); i = i + 1)
                                    02 ^{
                                        01=item = ShipArts(owner, i);
                                        02=if(ItemInScript(item) == 1) continue;
                                        03=if(ItemType(item) == t_ArtefactTranclucator) continue;
                                        04=overload = overload - ItemSize(item);
                                        05=FreeItem(GetArtFromShip(owner, i));
                                        06=i = i - 1;
                                        07=if(overload <= 0)
                                        08 ^{
                                            01=overload = 0;
                                            02=break;
                                        }
                                    }
                                }
                                06=if(overload)
                                07 ^{
                                    01=for(i = 1; i < ShipItems(owner); i = i + 1)
                                    02 ^{
                                        01=item = ShipItems(owner, i);
                                        02=if(ItemInScript(item) == 1) continue;
                                        03=if(ItemType(item) == t_Engine || ItemType(item) == t_FuelTanks) continue;
                                        04=overload = overload - ItemSize(item);
                                        05=FreeItem(GetItemFromShip(owner, i));
                                        06=i = i - 1;
                                        07=if(overload <= 0)
                                        08 ^{
                                            01=overload = 0;
                                            02=break;
                                        }
                                    }
                                }
                                08=if(overload)
                                09 ^{
                                    01=item = ShipItems(owner, 0);
                                    02=ItemSize(item, ItemSize(item) + overload + RndObject(1, 5, owner));
                                    03=overload = 0;
                                }
                                10=ShipCalcParam(owner);
                            }
                        }
                    }
                    03=else if(ScriptItemActionType(t_OnStep, 11))
                    04 ^{
                        01=cur_info = CurInfo();
                        02=int backCheck = 0;
                        03=owner = ScriptItemActShip();
                        04=quant = ShipCustomShipInfoData(0, cur_info, 3);
                        05=launched = ShipCustomShipInfoTextData(0, cur_info, 2);
                        06=if(~findsubstr(launched, 'Y'))
                        07 ^{
                            01=if(ShipInFear(owner))
                            02 ^{
                                01=if(ShipOrder(owner) != 6) backCheck = 1;
                                02=else if(ShipOrderData1(owner) != 1) backCheck = 1;
                            }
                            03=else if(!(ShipOrder(owner) == 6 && ShipOrderData1(owner) == 1)) backCheck = 1;
                        }
                        08=if(backCheck)
                        09 ^{
                            01=for(i = 0; i < quant; i = i + 1)
                            02 ^{
                                01=if(findsubstr(launched, 'Y') == i)
                                02 ^{
                                    01=allId = ShipCustomShipInfoTextData(0, cur_info, 1);
                                    02=tranc = IdToShip(GetParFromString(allId, ',', i, 0));
                                    03=if(ShipStar(tranc) == ShipStar(owner))
                                    04 ^{
                                        01=int tint = ShipFindCustomShipInfoByType(tranc, 'TrancNPCAddInfo');
                                        02=ShipCustomShipInfoData(tranc,tint, 2, 1);
                                        03=ShipCustomShipInfoData(tranc,tint, 3, 2);
                                        04=launched = substr(launched, 0, i) + 'R' + substr(launched, i + 1);
                                        05=ShipCustomShipInfoTextData(0, cur_info, 2, launched);
                                    }
                                }
                            }
                        }
                        10=allId = ShipCustomShipInfoTextData(0, cur_info, 1);
                        11=for(i = 0; i < quant; i = i + 1)
                        12 ^{
                            01=tranc = IdToShip(GetParFromString(allId, ',', i, 0));
                            02=if(!tranc)
                            03 ^{
                                01=tranc = ScriptItemActShip();
                                02=owner = TranclucatorData(tranc, 'Proprietor');
                                03=if(owner)
                                04 ^{
                                    01=unknown tarr = newarray(1);
                                    02=infos = ShipFindCustomShipInfoByType(owner, 'TrancNPCOwnerInfo');
                                    03=quant = ShipCustomShipInfoData(owner, infos, 3);
                                    04=allId = ShipCustomShipInfoTextData(owner, infos, 1);
                                    05=launched = ShipCustomShipInfoTextData(owner, infos, 2);
                                    06=status = ShipCustomShipInfoTextData(owner, infos, 3);
                                    07=dword trancId = Id(tranc);
                                    08=for(i = 0; i < quant; i = i + 1)
                                    09 ^{
                                        01=dword tempId = GetParFromString(allId, ',', i, 0);
                                        02=if(trancId == tempId)
                                        03 ^{
                                            01=launched = substr(launched, 0, i) + '' + substr(launched, i + 1);
                                            02=ShipCustomShipInfoTextData(owner, infos, 2, launched);
                                            03=status = substr(status, 0, i) + '' + substr(status, i + 1);
                                            04=ShipCustomShipInfoTextData(owner, infos, 3, status);
                                        }
                                        04=else ArrayAdd(tarr, tempId);
                                    }
                                    10=quant = quant - 1;
                                    11=ShipCustomShipInfoData(owner, infos, 3, quant);
                                    12=allId = '';
                                    13=for(i = 1; i <= quant; i = i + 1)
                                    14 ^{
                                        01=if(i < quant) allId = allId + tarr[i] + ',';
                                        02=else allId = allId + tarr[i];
                                    }
                                    15=ShipCustomShipInfoTextData(owner, infos, 1, allId);
                                    16=for(i = 1; i < ShipItems(owner); i = i + 1)
                                    17 ^{
                                        01=item = ShipItems(owner, i);
                                        02=if(EquipmentImageName(item) == 'WeightReserve')
                                        03 ^{
                                            01=ItemSize(item, ItemSize(item) - TranclucatorData(tranc, 'ArtSize'));
                                            02=if(ItemSize(item) < 0) ItemSize(item, 0);
                                            03=break;
                                        }
                                    }
                                    18=for(i = 0; i < ShipArts(tranc); i = i + 1)
                                    19 ^{
                                        01=item = ShipArts(tranc, i);
                                        02=if(RndObject(1, 100, tranc) > 20) NoDropItem(item, 1);
                                    }
                                }
                            }
                        }
                    }
                    05=else if(ScriptItemActionType(t_OnTrancPacking))
                    06 ^{
                        01=cur_info = CurInfo();
                        02=owner = ScriptItemActObject2();
                        03=quant = ShipCustomShipInfoData(0, cur_info, 3);
                        04=allId = ShipCustomShipInfoTextData(0, cur_info, 1);
                        05=launched = ShipCustomShipInfoTextData(0, cur_info, 2);
                        06=status = ShipCustomShipInfoTextData(0, cur_info, 3);
                        07=tranc = ScriptItemActObject1();
                        08=NoDropItem(tranc, 1);
                        09=for(i = 1; i < ShipItems(owner); i = i + 1)
                        10 ^{
                            01=item = ShipItems(owner, i);
                            02=if(EquipmentImageName(item) == 'WeightReserve')
                            03 ^{
                                01=ItemSize(item, ItemSize(item) - ItemSize(tranc));
                                02=if(ItemSize(item) < 0) ItemSize(item, 0);
                                03=break;
                            }
                        }
                        11=tranc = ArtTranclucatorToShip(tranc);
                        12=int tint3 = ShipFindCustomShipInfoByType(tranc, 'TrancNPCAddInfo');
                        13=ShipCustomShipInfoData(tranc, tint3, 2, 0);
                        14=ShipRefuel(tranc);
                        15=for(i = 1; i <= ShipCntWeapon(tranc); i = i + 1)
                        16 ^{
                            01=dword tdwd = ShipEqInSlot(tranc, t_Weapon1, i);
                            02=if(MissilesToRearm(tdwd)) MissilesToRearm(tdwd, MissilesToRearm(tdwd));
                        }
                        17=if(~ShipFindCustomShipInfoByType(tranc, 'bioMM_AD_TR_NPC'))
                        18 ^{
                            01=ShipSpecialBonuses(tranc, bonSkill1, ShipSpecialBonuses(tranc, bonSkill1) - CT('ShipInfo.AddInfo.CustomInfos.bioMM_AD_NPC.bonSkill1'));
                            02=ShipSpecialBonuses(tranc, bonSkill2, ShipSpecialBonuses(tranc, bonSkill2) - CT('ShipInfo.AddInfo.CustomInfos.bioMM_AD_NPC.bonSkill2'));
                            03=ShipSpecialBonuses(tranc, bonWEnergy, ShipSpecialBonuses(tranc, bonWEnergy) - CT('ShipInfo.AddInfo.CustomInfos.bioMM_AD_NPC.bonWEnergy'));
                            04=ShipSpecialBonuses(tranc, bonWSplinter, ShipSpecialBonuses(tranc, bonWSplinter) - CT('ShipInfo.AddInfo.CustomInfos.bioMM_AD_NPC.bonWSplinter'));
                            05=ShipSpecialBonuses(tranc, bonWMissile, ShipSpecialBonuses(tranc, bonWMissile) - CT('ShipInfo.AddInfo.CustomInfos.bioMM_AD_NPC.bonWMissile'));
                            06=ShipDeleteCustomShipInfo(tranc, 'bioMM_AD_TR_NPC');
                        }
                        19=str tranc_stat = ShipCustomShipInfoTextData(tranc, tint3, 3);
                        20=trancId = Id(tranc);
                        21=for(i = 0; i < quant; i = i + 1)
                        22 ^{
                            01=if(GetParFromString(allId, ',', i, 0) == trancId)
                            02 ^{
                                01=launched = substr(launched, 0, i) + 'N' + substr(launched, i + 1);
                                02=ShipCustomShipInfoTextData(0, cur_info, 2, launched);
                                03=status = substr(status, 0, i) + tranc_stat + substr(status, i + 1);
                                04=ShipCustomShipInfoTextData(0, cur_info, 3, status);
                                05=break;
                            }
                        }
                    }
                    07=else if(ScriptItemActionType(t_OnItemPickUp))
                    08 ^{
                        01=tranc = ScriptItemActObject1();
                        02=if(ItemType(tranc) == t_ArtefactTranclucator)
                        03 ^{
                            01=ShipCalcParam(ScriptItemActShip());
                            02=if(ShipFreeSpace(ScriptItemActShip()) > 0)
                            03 ^{
                                01=cur_info = CurInfo();
                                02=quant = ShipCustomShipInfoData(0, cur_info, 3);
                                03=if(quant < 6)
                                04 ^{
                                    01=NoDropItem(tranc, 1);
                                    02=tranc = ArtTranclucatorToShip(tranc);
                                    03=allId = ShipCustomShipInfoTextData(0, cur_info, 1);
                                    04=launched = ShipCustomShipInfoTextData(0, cur_info, 2);
                                    05=status = ShipCustomShipInfoTextData(0, cur_info, 3);
                                    06=if(ShipFindCustomShipInfoByType(tranc, 'TrancNPCAddInfo') == -1) ShipAddCustomShipInfo(tranc, 'TrancNPCAddInfo', 'NoShow', -1, 0, 0, '', '0', 'U');
                                    07=if(~ShipFindCustomShipInfoByType(tranc, 'TrancModAddInfo')) ShipDeleteCustomShipInfo(tranc, 'TrancModAddInfo');
                                    08=if(~ShipFindCustomShipInfoByType(tranc, 'TrancNavComputerInfo'))
                                    09 ^{
                                        01=ShipDeleteCustomShipInfo(tranc, 'TrancNavComputerInfo');
                                        02=ShipAddCustomShipInfo(tranc, 'TrancFakeNavComputerInfo');
                                    }
                                    10=quant = quant + 1;
                                    11=ShipCustomShipInfoData(0, cur_info, 3, quant);
                                    12=if(allId != '') allId = allId + ',' + Id(tranc);
                                    13=else allId = Id(tranc);
                                    14=ShipCustomShipInfoTextData(0, cur_info, 1, allId);
                                    15=launched = launched + 'N';
                                    16=ShipCustomShipInfoTextData(0, cur_info, 2, launched);
                                    17=status = status + 'U';
                                    18=ShipCustomShipInfoTextData(0, cur_info, 3, status);
                                    19=TranclucatorData(tranc, 'Proprietor', ScriptItemActShip());
                                    20=TranclucatorData(tranc, 'AutoArrange', 1);
                                }
                            }
                        }
                    }
                    09=else if(ScriptItemActionType(t_OnDeath))
                    10 ^{
                        01=cur_info = CurInfo();
                        02=owner = ScriptItemActShip();
                        03=int chance_to_drop = 3;
                        04=dword killer = ScriptItemActObject1();
                        05=if(killer)
                        05 ^{
                            01=if(ArtefactTypeInUse(killer, t_ArtefactMiniExpl)) chance_to_drop = 7;
                        }
                        06=for(i = ShipArts(owner) - 1; i >= 0; i = i - 1)
                        06 ^{
                            01=item = ShipArts(owner, i);
                            02=if(ItemType(item) == t_ArtefactTranclucator)
                            02 ^{
                                01=if(RndObject(1, 100, owner) <= chance_to_drop)
                                01 ^{
                                    01=NoDropItem(item, 0);
                                    02=TranclucatorData(ArtTranclucatorToShip(item), 'AutoArrange', 0);
                                }
                            }
                        }
                        07=quant = ShipCustomShipInfoData(0, cur_info, 3);
                        08=allId = ShipCustomShipInfoTextData(0, cur_info, 1);
                        09=launched = ShipCustomShipInfoTextData(0, cur_info, 2);
                        10=for(i = 0; i < quant; i = i + 1)
                        10 ^{
                            01=if(findsubstr(launched, 'Y') == i || findsubstr(launched, 'R') == i)
                            01 ^{
                                01=tranc = IdToShip(GetParFromString(allId, ',', i, 0));
                                02=TranclucatorData(tranc, 'Proprietor', 0);
                                03=ShipCustomShipInfoData(tranc, 'TrancNPCAddInfo', 2, 2);
                                04=ShipCustomShipInfoData(tranc, 'TrancNPCAddInfo', 3, 2);
                                05=OrderNone(tranc);
                                06=OrderLock(tranc, 1);
                                07=launched = substr(launched, 0, i) + 'D' + substr(launched, i + 1);
                            }
                        }
                        11=ShipDestroy(owner, 1);
                        12=ShipDeleteCustomShipInfo(owner, 'TrancNPCOwnerInfo');
                    }
                    11=else if(ScriptItemActionType(t_OnEnteringForm))
                    12 ^{
                        01=if(CurrentForm() == 'Scaner')
                        02 ^{
                            01=dword owner2 = ScriptItemActShip();
                            02=ShipCalcParam(owner2);
                            03=for(int m = 1; m < ShipItems(owner2); m = m + 1)
                            04 ^{
                                01=dword temp_item2 = ShipItems(owner2, m);
                                02=if(EquipmentImageName(temp_item2) == 'WeightReserve')
                                03 ^{
                                    01=if(!ItemIsInUse(temp_item2))ItemIsInUse(temp_item2, owner2, 1);
                                    02=InterfaceState('Scaner','IEmpty', 0);
                                    03=int weightInt = ShipFreeSpace(owner2) + ItemSize(temp_item2);
                                    04=str weightStr;
                                    05=if(weightInt < 0) weightStr = '<color=255,0,0>' + weightInt + '</color>';
                                    06=else weightStr = weightInt;
                                    07=InterfaceState('Scaner', 'IEmptyFake', 1);
                                    08=InterfaceText('Scaner', 'IEmptyFake', weightStr);
                                    09=break;
                                }
                            }
                        }
                    }
                    13=else if(ScriptItemActionType(t_OnLeavingForm))
                    14 ^{
                        01=if(CurrentForm() == 'Scaner')
                        02 ^{
                            01=InterfaceState('Scaner', 'IEmpty', -1);
                            02=InterfaceState('Scaner', 'IEmptyFake', -1);
                        }
                    }
                }
                OnActCodeTypes=t_OnStep,t_OnTrancPacking,t_OnItemPickUp,t_OnDeath,t_OnEnteringForm,t_OnLeavingForm
                OnActStepTypes=0,11
            }
            TrancNavComputerInfo ^{
                Description=Бортовой навигационный компьютер, какие установлены на любом космическом корабле. Версия для транклюкатора была модифицирована с целью обеспечения полной автономности и независимости от корректировок живого пилота.
                Description=<clr><clrEnd>
                Description=Позволяет этому роботу самостоятельно рассчитывать и совершать <color=255,240,100>гиперпространственные прыжки</color>.
                Icon=504
                Name=Навигационный <br><td=25>компьютер
                OnActCode ^{
                    01=dword tranc = ScriptItemActShip();
                    02=if(~ShipFindCustomShipInfoByType(tranc, 'OrderJumpHole_ForCompanion')) exit;
                    03=dword cur_info = CurInfo();
                    04=if(ScriptItemActionType(t_OnStep, 0))
                    05 ^{
                        01=dword curTank = ShipEqInSlot(tranc, t_FuelTanks);
                        02=str behav = ShipCustomShipInfoTextData(0, cur_info, 3);
                        03=if(!ShipSpeed(tranc))
                        04 ^{
                            01=OrderLock(tranc, 0);
                            02=exit;
                        }
                        05=if(ShipCustomShipInfoTextData(0, cur_info, 2) == 'True' || ShipCustomShipInfoTextData(0, cur_info, 2) == 'TrueOnIt')
                        06 ^{
                            01=if(CurTurn() < 1000) int turn_mod = 0;
                            02=else if(CurTurn() >= 1000 && CurTurn() <= 15000) turn_mod = CurTurn() - 1000;
                            03=else if(CurTurn() > 15000) turn_mod = 14000;
                            04=float float_cost = 1.0 + (6.43 * (0.0001 * turn_mod));
                            05=float_cost = float_cost + (-0.30 + (0.30 * (GalaxyDiffLevels(7) / 50 - 1))) * float_cost;
                            06=if(ShipFuelLow(tranc))
                            07 ^{
                                01=if(!ShipInHyperSpace(tranc))
                                02 ^{
                                    01=int toRefuel = GetEquipmentStats(curTank, 0) - ShipFuel(tranc);
                                    02=for(int i = 0; i < ShipItems(tranc); i = i + 1)
                                    03 ^{
                                        01=dword item = ShipItems(tranc, i);
                                        02=if(item == curTank) continue;
                                        03=if(ItemType(item) == t_FuelTanks || ItemType(item) == t_Cistern)
                                        04 ^{
                                            01=if(ContainerFuel(item) >= toRefuel)
                                            02 ^{
                                                01=ShipRefuel(tranc);
                                                02=ContainerFuel(item, ContainerFuel(item) - toRefuel);
                                                03=break;
                                            }
                                            03=else
                                            04 ^{
                                                01=ContainerFuel(curTank, ContainerFuel(curTank) + ContainerFuel(item));
                                                02=toRefuel = toRefuel - ContainerFuel(item);
                                                03=ContainerFuel(item, 0);
                                            }
                                        }
                                    }
                                }
                            }
                        }
                        07=if(ShipCustomShipInfoTextData(0, cur_info, 1) != 'False')
                        08 ^{
                            01=if(behav != 'JumpByOrder')
                            02 ^{
                                01=dword owner = Player();
                                02=if(ShipStar(tranc) != ShipStar(owner))
                                03 ^{
                                    01=if(!ShipInHyperSpace(tranc))
                                    02 ^{
                                        01=if(ShipInNormalSpace(tranc))
                                        02 ^{
                                            01=dword star1 = ShipStar(tranc);
                                            02=dword star2 = ShipStar(owner);
                                            03=if(ShipCustomShipInfoTextData(0, cur_info, 1) == 'True')
                                            04 ^{
                                                01=if(StarOwner(star2) != 1)
                                                02 ^{
                                                    01=if(ShipCanJump(tranc, star1, star2, 1))
                                                    02 ^{
                                                        01=OrderJump(tranc, star2);
                                                        02=ShipCustomShipInfoTextData(0, cur_info, 3, 'JumpByItself');
                                                        03=OrderLock(tranc, 1);
                                                    }
                                                    03=else
                                                    04 ^{
                                                        01=if(ShipCustomShipInfoTextData(0, cur_info, 2) == 'True' || ShipCustomShipInfoTextData(0, cur_info, 2) == 'TrueOnIt')
                                                        02 ^{
                                                            01=if(ShipOrder(tranc) != 2)
                                                            02 ^{
                                                                01=if(StarOwner(star1) != 1 && !StarBattle(star1))
                                                                02 ^{
                                                                    01=int fullDist = round(sqrt(Dist2Star(star1, star2)));
                                                                    02=int stock = round(1.0 * ShipCustomShipInfoData(0, cur_info, 2) / float_cost);
                                                                    03=for(i = 0; i < ShipItems(tranc); i = i + 1)
                                                                    04 ^{
                                                                        01=item = ShipItems(tranc, i);
                                                                        02=if(ItemType(item) == t_FuelTanks || ItemType(item) == t_Cistern)
                                                                        03 ^{
                                                                            01=stock = stock + ContainerFuel(item);
                                                                        }
                                                                    }
                                                                    05=if(stock >= fullDist)
                                                                    06 ^{
                                                                        01=ShipCustomShipInfoData(0, cur_info, 1, fullDist - ShipFuel(tranc));
                                                                        02=if(ShipCustomShipInfoData(0, cur_info, 1) < 0) ShipCustomShipInfoData(0, cur_info, 1, 0);
                                                                        03=OrderJump(tranc, star2);
                                                                        04=ShipCustomShipInfoTextData(0,cur_info, 3, 'JumpByItselfFar');
                                                                        05=OrderLock(tranc, 1);
                                                                    }
                                                                }
                                                                03=else
                                                                04 ^{
                                                                    01=for(i = 1; i < GalaxyStars(); i = i + 1)
                                                                    02 ^{
                                                                        01=item = StarNearbyStars(star1, i);
                                                                        02=if(StarOwner(item) != 1)
                                                                        03 ^{
                                                                            01=if(ShipCanJump(tranc, star1, item, 1))
                                                                            02 ^{
                                                                                01=OrderJump(tranc, item);
                                                                                02=ShipCustomShipInfoTextData(0, cur_info, 3, 'JumpByItself');
                                                                                03=OrderLock(tranc, 1);
                                                                                04=break;
                                                                            }
                                                                        }
                                                                        04=if(StarNearbyStarsDist(star1, i) > ShipJump(tranc)) break;
                                                                    }
                                                                }
                                                            }
                                                        }
                                                        03=else if(StarOwner(star1) == 1)
                                                        04 ^{
                                                            01=for(i = 1; i < GalaxyStars(); i = i + 1)
                                                            02 ^{
                                                                01=item = StarNearbyStars(star1, i);
                                                                02=if(StarOwner(item) != 1)
                                                                03 ^{
                                                                    01=if(ShipCanJump(tranc, star1, item, 1))
                                                                    02 ^{
                                                                        01=OrderJump(tranc, item);
                                                                        02=ShipCustomShipInfoTextData(0, cur_info, 3, 'JumpByItself');
                                                                        03=OrderLock(tranc, 1);
                                                                        04=break;
                                                                    }
                                                                }
                                                                04=if(StarNearbyStarsDist(star1, i) > ShipJump(tranc)) break;
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                            05=else
                                            06 ^{
                                                01=if(ShipCanJump(tranc, star1, star2, 1))
                                                02 ^{
                                                    01=OrderJump(tranc, star2);
                                                    02=ShipCustomShipInfoTextData(0, cur_info, 3, 'JumpByItself');
                                                    03=OrderLock(tranc, 1);
                                                }
                                                03=else
                                                04 ^{
                                                    01=if(ShipCustomShipInfoTextData(0, cur_info, 2) == 'True' || ShipCustomShipInfoTextData(0, cur_info, 2) == 'TrueOnIt')
                                                    02 ^{
                                                        01=if(ShipOrder(tranc) != 2)
                                                        02 ^{
                                                            01=if(StarOwner(star1) != 1)
                                                            02 ^{
                                                                01=if(!StarBattle(star1))
                                                                02 ^{
                                                                    01=int fullDist2 = round(sqrt(Dist2Star(star1, star2)));
                                                                    02=int stock2 = round(1.0 * ShipCustomShipInfoData(0, cur_info, 2) / float_cost);
                                                                    03=for(i = 0; i < ShipItems(tranc); i = i + 1)
                                                                    04 ^{
                                                                        01=item = ShipItems(tranc, i);
                                                                        02=if(ItemType(item) == t_FuelTanks || ItemType(item) == t_Cistern)
                                                                        03 ^{
                                                                            01=stock2 = stock2 + ContainerFuel(item);
                                                                        }
                                                                    }
                                                                    05=if(stock2 >= fullDist2)
                                                                    06 ^{
                                                                        01=ShipCustomShipInfoData(0, cur_info, 1, fullDist2 - ShipFuel(tranc));
                                                                        02=if(ShipCustomShipInfoData(0, cur_info, 1) < 0) ShipCustomShipInfoData(0, cur_info, 1, 0);
                                                                        03=OrderJump(tranc, star2);
                                                                        04=ShipCustomShipInfoTextData(0, cur_info, 3, 'JumpByItselfFar');
                                                                        05=OrderLock(tranc, 1);
                                                                    }
                                                                }
                                                            }
                                                            03=else
                                                            04 ^{
                                                                01=for(i=1; i<GalaxyStars(); i=i+1)
                                                                02 ^{
                                                                    01=item=StarNearbyStars(star1,i);
                                                                    02=if(StarOwner(item) != 1)
                                                                    03 ^{
                                                                        01=if(ShipCanJump(tranc,star1,item,1))
                                                                        02 ^{
                                                                            01=OrderJump(tranc,item);
                                                                            02=ShipCustomShipInfoTextData(0,cur_info,3,'JumpByItself');
                                                                            03=OrderLock(tranc,1);
                                                                            04=break;
                                                                        }
                                                                    }
                                                                    04=if(StarNearbyStarsDist(star1,i)>ShipJump(tranc)) break;
                                                                }
                                                            }
                                                        }
                                                    }
                                                    03=else if(StarOwner(star1) == 1)
                                                    04 ^{
                                                        01=for(i=1; i<GalaxyStars(); i=i+1)
                                                        02 ^{
                                                            01=item=StarNearbyStars(star1,i);
                                                            02=if(StarOwner(item) != 1)
                                                            03 ^{
                                                                01=if(ShipCanJump(tranc,star1,item,1))
                                                                02 ^{
                                                                    01=OrderJump(tranc,item);
                                                                    02=ShipCustomShipInfoTextData(0,cur_info,3,'JumpByItself');
                                                                    03=OrderLock(tranc,1);
                                                                    04=break;
                                                                }
                                                            }
                                                            04=if(StarNearbyStarsDist(star1,i)>ShipJump(tranc))break;
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                                04=else if(!ShipInHyperSpace(tranc))
                                05 ^{
                                    01=if(behav=='JumpByItself' || behav=='JumpByItselfFar')
                                    02 ^{
                                        01=OrderLock(tranc,0);
                                        02=ShipCustomShipInfoData(0,cur_info,1,0);
                                        03=ShipCustomShipInfoTextData(0,cur_info,3,'');
                                    }
                                }
                                06=else
                                07 ^{
                                    01=if(behav=='JumpByItself')
                                    02 ^{
                                        01=OrderLock(tranc,0);
                                        02=ShipCustomShipInfoData(0,cur_info,1,0);
                                        03=ShipCustomShipInfoTextData(0,cur_info,3,'');
                                    }
                                    03=else if(behav=='JumpByItselfFar')
                                    04 ^{
                                        01=ShipOrderData1(tranc,round(2.75*ShipOrderData1(tranc)));
                                        02=int toRefuel2=ShipCustomShipInfoData(0,cur_info,1);
                                        03=if(toRefuel2)
                                        04 ^{
                                            01=for(i=1; i<=4; i=i+1)
                                            02 ^{
                                                01=item=ShipEqInSlot(tranc,t_Artefact,i);
                                                02=if(item)
                                                03 ^{
                                                    01=if(ItemType(item)==t_ArtefactFuel)
                                                    02 ^{
                                                        01=toRefuel2=toRefuel2-ShipOrderData1(tranc);
                                                        02=if(toRefuel2<=0)
                                                        03 ^{
                                                            01=toRefuel2=0;
                                                            02=break;
                                                        }
                                                    }
                                                }
                                            }
                                            03=if(toRefuel2)
                                            04 ^{
                                                01=for(i=0;i<ShipItems(tranc);i=i+1)
                                                02 ^{
                                                    01=item=ShipItems(tranc,i);
                                                    02=if(item==curTank)continue;
                                                    03=if(ItemType(item)==t_FuelTanks || ItemType(item)==t_Cistern)
                                                    04 ^{
                                                        01=if(ContainerFuel(item)>=toRefuel2)
                                                        02 ^{
                                                            01=ContainerFuel(item,ContainerFuel(item)-toRefuel2);
                                                            02=toRefuel2=0;
                                                            03=break;
                                                        }
                                                        03=else
                                                        04 ^{
                                                            01=toRefuel2=toRefuel2-ContainerFuel(item);
                                                            02=ContainerFuel(item,0);
                                                        }
                                                    }
                                                }
                                            }
                                            05=ShipCustomShipInfoData(0,cur_info,2,ShipCustomShipInfoData(0,cur_info,2) -round(1.0*toRefuel2*float_cost));
                                            06=if(ShipCustomShipInfoData(0,cur_info,2)<0) ShipCustomShipInfoData(0,cur_info,2,0);
                                            07=ShipCustomShipInfoData(0,cur_info,1,0);
                                        }
                                        05=OrderLock(tranc,0);
                                        06=ShipCustomShipInfoTextData(0,cur_info,3,'');
                                    }
                                }
                            }
                            03=else
                            04 ^{
                                01=if(!ShipInHyperSpace(tranc))
                                02 ^{
                                    01=if(!OrderLock(tranc))OrderLock(tranc,1);
                                }
                                03=else
                                04 ^{
                                    01=OrderLock(tranc,0);
                                    02=ShipCustomShipInfoTextData(0,cur_info,3,'');
                                }
                            }
                        }
                        09=else if(behav == 'JumpByOrder')
                        10 ^{
                            01=if(!ShipInHyperSpace(tranc))
                            02 ^{
                                01=if(!OrderLock(tranc))OrderLock(tranc,1);
                            }
                            03=else
                            04 ^{
                                01=OrderLock(tranc,0);
                                02=ShipCustomShipInfoTextData(0,cur_info,3,'');
                            }
                        }
                        11=else if(OrderLock(tranc)) OrderLock(tranc, 0);
                    }
                    06=else
                    07 ^{
                        01=dword cur_star=ShipStar(tranc);
                        02=if(!cur_star) exit;
                        03=if(ShipCustomShipInfoTextData(0,cur_info,2)=='True' || ShipCustomShipInfoTextData(0,cur_info,2)=='TrueOnIt')
                        04 ^{
                            01=if(!ShipInHyperSpace(tranc))
                            02 ^{
                                01=if(ShipFuelLow(tranc))
                                02 ^{
                                    01=if(float_cost<=ShipCustomShipInfoData(0,cur_info,2))
                                    02 ^{
                                        01=dword temp_plan=GetShipPlanet(tranc);
                                        02=dword temp_ruin=GetShipRuins(tranc);
                                        03=if(!temp_plan && !temp_ruin)
                                        04 ^{
                                            01=if(!TranclucatorData(tranc,'SeekItems'))
                                            02 ^{
                                                01=if(ShipOrder(tranc) != 2)
                                                02 ^{
                                                    01=if(ShipCustomShipInfoTextData(0, cur_info, 3) != 'JumpByOrder')
                                                    02 ^{
                                                        01=if(StarOwner(cur_star) != 1)
                                                        02 ^{
                                                            01=if(!StarBattle(cur_star))
                                                            02 ^{
                                                                01=dword locat=NearCivilPlanet(tranc);
                                                                02=int distT=Dist(tranc,locat);
                                                                03=for(i = 0; i < StarRuins(cur_star); i = i + 1)
                                                                04 ^{
                                                                    01=dword ruin = StarRuins(cur_star, i);
                                                                    02=str tempStr = ShipType(ruin);
                                                                    03=if(tempStr == 'Inhibitor') continue;
                                                                    04=if(tempStr == 'BM') continue;
                                                                    07=if(tempStr == 'SSB_licensed') continue;
                                                                    08=if(tempStr == 'Handler')
                                                                    09 ^{
                                                                        01=if(ShipOwner(Player()) != PirateClan && GetShipPirateRank(Player()) < 7) continue;
                                                                    }
                                                                    10=if(tempStr == 'CB' && ShipOwner(Player()) != 7) continue;
                                                                    11=if(Dist(tranc,ruin)<distT)
                                                                    12 ^{
                                                                        01=distT=Dist(tranc,ruin);
                                                                        02=locat=ruin;
                                                                    }
                                                                }
                                                                05=if(RelationToRanger(locat,Player())>=10)
                                                                06 ^{
                                                                    01=OrderLanding(tranc,locat);
                                                                    02=OrderLock(tranc,1);
                                                                    03=ShipCustomShipInfoTextData(0,cur_info,2,'TrueOnIt');
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                                03=else
                                                04 ^{
                                                    01=if(ShipCustomShipInfoTextData(0,cur_info,2) != 'TrueOnIt') OrderLock(tranc,0);
                                                }
                                            }
                                        }
                                        05=else
                                        06 ^{
                                            01=if(temp_plan) dword temp_place=temp_plan;
                                            02=else temp_place=temp_ruin;
                                            03=if(RelationToRanger(temp_place,Player())>=10)
                                            04 ^{
                                                01=int toRefuel3=GetEquipmentStats(curTank,0)-ShipFuel(tranc);
                                                02=if(temp_plan)
                                                03 ^{
                                                    01=float race_mod;
                                                    02=if(PlanetRace(temp_place)==0)float_cost=0.7*float_cost;
                                                    03=else if(PlanetRace(temp_place)==1)float_cost=0.9*float_cost;
                                                    04=else if(PlanetRace(temp_place)==2)float_cost=1.0*float_cost;
                                                    05=else if(PlanetRace(temp_place)==3)float_cost=1.15*float_cost;
                                                    06=else if(PlanetRace(temp_place)==4)float_cost=1.30*float_cost;
                                                    07=else if(PlanetRace(temp_place)==7)float_cost=0.8*float_cost;
                                                }
                                                04=int pos_quant=round(1.0*ShipCustomShipInfoData(0,cur_info,2)/float_cost);
                                                05=if(pos_quant>=toRefuel3)
                                                06 ^{
                                                    01=int int_cost=round(float_cost*toRefuel3);
                                                    02=if(!int_cost)int_cost=1;
                                                    03=ShipRefuel(tranc);
                                                    04=ShipCustomShipInfoData(0,cur_info,2,ShipCustomShipInfoData(0,cur_info,2)-int_cost);
                                                    05=ShipCustomShipInfoTextData(0,cur_info,2,'True');
                                                }
                                                07=else
                                                08 ^{
                                                    01=ShipFuel(tranc,ShipFuel(tranc)+pos_quant);
                                                    02=ShipCustomShipInfoData(0,cur_info,2,0);
                                                    03=ShipCustomShipInfoTextData(0,cur_info,2,'True');
                                                }
                                            }
                                            05=OrderLock(tranc, 0);
                                        }
                                    }
                                }
                            }
                        }
                        05=else if(ShipOrder(tranc) != 3) OrderLock(tranc, 0);
                        06=if(ShipCustomShipInfoData(0, cur_info, 3))
                        07 ^{
                            01=dword round_cost = 10 + (18 * (GalaxyTechLevel() - 2));
                            02=if(round_cost > 100) round_cost = 100;
                            03=if(ShipCustomShipInfoData(0, cur_info, 2) >= round_cost)
                            04 ^{
                                01=temp_plan = GetShipPlanet(tranc);
                                02=temp_ruin = GetShipRuins(tranc);
                                03=if(temp_plan || temp_ruin)
                                04 ^{
                                    01=if(temp_plan) temp_place = temp_plan;
                                    02=else temp_place = temp_ruin;
                                    03=if(RelationToRanger(temp_place, Player()) >= 10)
                                    04 ^{
                                        01=int moneyFor = ShipCustomShipInfoData(0, cur_info, 2) / round_cost;
                                        02=int toRearm = 0;
                                        03=int tempCount = 0;
                                        04=dword gun_one = 0;
                                        05=dword gun_two = 0;
                                        06=dword gun_three = 0;
                                        07=dword gun_four = 0;
                                        08=dword gun_five = 0;
                                        09=for(i = 1; i <= ShipCntWeapon(tranc); i = i + 1)
                                        10 ^{
                                            01=dword temp_gun = ShipEqInSlot(tranc, t_Weapon1, i);
                                            02=if(MissilesToRearm(temp_gun))
                                            03 ^{
                                                01=if(i == 1)
                                                02 ^{
                                                    01=gun_one = MissilesToRearm(temp_gun);
                                                    02=toRearm = toRearm + gun_one;
                                                    03=tempCount = tempCount + 1;
                                                }
                                                03=else if(i == 2)
                                                04 ^{
                                                    01=gun_two = MissilesToRearm(temp_gun);
                                                    02=toRearm = toRearm + gun_two;
                                                    03=tempCount = tempCount + 1;
                                                }
                                                05=else if(i == 3)
                                                06 ^{
                                                    01=gun_three = MissilesToRearm(temp_gun);
                                                    02=toRearm = toRearm + gun_three;
                                                    03=tempCount = tempCount + 1;
                                                }
                                                07=else if(i == 4)
                                                08 ^{
                                                    01=gun_four = MissilesToRearm(temp_gun);
                                                    02=toRearm = toRearm + gun_four;
                                                    03=tempCount = tempCount + 1;
                                                }
                                                09=else if(i == 5)
                                                10 ^{
                                                    01=gun_five = MissilesToRearm(temp_gun);
                                                    02=toRearm = toRearm + gun_five;
                                                    03=tempCount = tempCount + 1;
                                                }
                                            }
                                        }
                                        11=if(tempCount)
                                        12 ^{
                                            01=if(moneyFor >= toRearm)
                                            02 ^{
                                                01=for(i = 1; i <= ShipCntWeapon(tranc); i = i + 1)
                                                02 ^{
                                                    01=temp_gun = ShipEqInSlot(tranc, t_Weapon1, i);
                                                    02=if(i == 1)
                                                    03 ^{
                                                        01=if(gun_one) MissilesToRearm(temp_gun, gun_one);
                                                    }
                                                    04=else if(i == 2)
                                                    05 ^{
                                                        01=if(gun_two) MissilesToRearm(temp_gun, gun_two);
                                                    }
                                                    06=else if(i == 3)
                                                    07 ^{
                                                        01=if(gun_three) MissilesToRearm(temp_gun, gun_three);
                                                    }
                                                    08=else if(i == 4)
                                                    09 ^{
                                                        01=if(gun_four) MissilesToRearm(temp_gun, gun_four);
                                                    }
                                                    10=else if(i == 5)
                                                    11 ^{
                                                        01=if(gun_five) MissilesToRearm(temp_gun, gun_five);
                                                    }
                                                }
                                                03=ShipCustomShipInfoData(0, cur_info, 2, ShipCustomShipInfoData(0, cur_info, 2) - (round_cost * toRearm));
                                                04=if(ShipCustomShipInfoData(0, cur_info, 2) < 0) ShipCustomShipInfoData(0, cur_info, 2, 0);
                                            }
                                            03=else
                                            04 ^{
                                                01=float coeff = 1.0 * moneyFor / toRearm;
                                                02=int rearmed = moneyFor;
                                                03=int temp_int = 0;
                                                04=for(i = 1; i <= ShipCntWeapon(tranc); i = i + 1)
                                                05 ^{
                                                    01=temp_gun = ShipEqInSlot(tranc, t_Weapon1, i);
                                                    02=if(i == 1)
                                                    03 ^{
                                                        01=temp_int = int(coeff * gun_one);
                                                        02=if(gun_one) MissilesToRearm(temp_gun, temp_int);
                                                        03=rearmed = rearmed - temp_int;
                                                        04=gun_one = gun_one - temp_int;
                                                    }
                                                    04=else if(i == 2)
                                                    05 ^{
                                                        01=temp_int = int(coeff * gun_two);
                                                        02=if(gun_two) MissilesToRearm(temp_gun, temp_int);
                                                        03=rearmed = rearmed - temp_int;
                                                        04=gun_two = gun_two - temp_int;
                                                    }
                                                    06=else if(i == 3)
                                                    07 ^{
                                                        01=temp_int = int(coeff * gun_three);
                                                        02=if(gun_three) MissilesToRearm(temp_gun, temp_int);
                                                        03=rearmed = rearmed - temp_int;
                                                        04=gun_three = gun_three - temp_int;
                                                    }
                                                    08=else if(i == 4)
                                                    09 ^{
                                                        01=temp_int = int(coeff * gun_four);
                                                        02=if(gun_four) MissilesToRearm(temp_gun, temp_int);
                                                        03=rearmed = rearmed - temp_int;
                                                        04=gun_four = gun_four - temp_int;
                                                    }
                                                    10=else if(i == 5)
                                                    11 ^{
                                                        01=temp_int = int(coeff * gun_five);
                                                        02=if(gun_five) MissilesToRearm(temp_gun, temp_int);
                                                        03=rearmed = rearmed - temp_int;
                                                        04=gun_five = gun_five - temp_int;
                                                    }
                                                }
                                                06=if(rearmed)
                                                07 ^{
                                                    01=for(i = 1; i <= ShipCntWeapon(tranc); i = i + 1)
                                                    02 ^{
                                                        01=temp_gun = ShipEqInSlot(tranc, t_Weapon1, i);
                                                        02=if(i == 1)
                                                        03 ^{
                                                            01=if(gun_one)
                                                            02 ^{
                                                                01=if(gun_one >= rearmed)
                                                                02 ^{
                                                                    01=MissilesToRearm(temp_gun, rearmed);
                                                                    02=break;
                                                                }
                                                                03=else
                                                                04 ^{
                                                                    01=MissilesToRearm(temp_gun, gun_one);
                                                                    02=rearmed = rearmed - gun_one;
                                                                }
                                                            }
                                                        }
                                                        04=else if(i == 2)
                                                        05 ^{
                                                            01=if(gun_two)
                                                            02 ^{
                                                                01=if(gun_two >= rearmed)
                                                                02 ^{
                                                                    01=MissilesToRearm(temp_gun, rearmed);
                                                                    02=break;
                                                                }
                                                                03=else
                                                                04 ^{
                                                                    01=MissilesToRearm(temp_gun, gun_two);
                                                                    02=rearmed = rearmed - gun_two;
                                                                }
                                                            }
                                                        }
                                                        06=else if(i == 3)
                                                        07 ^{
                                                            01=if(gun_three)
                                                            02 ^{
                                                                01=if(gun_three >= rearmed)
                                                                02 ^{
                                                                    01=MissilesToRearm(temp_gun, rearmed);
                                                                    02=break;
                                                                }
                                                                03=else
                                                                04 ^{
                                                                    01=MissilesToRearm(temp_gun, gun_three);
                                                                    02=rearmed = rearmed - gun_three;
                                                                }
                                                            }
                                                        }
                                                        08=else if(i == 4)
                                                        09 ^{
                                                            01=if(gun_four)
                                                            02 ^{
                                                                01=if(gun_four >= rearmed)
                                                                02 ^{
                                                                    01=MissilesToRearm(temp_gun, rearmed);
                                                                    02=break;
                                                                }
                                                                03=else
                                                                04 ^{
                                                                    01=MissilesToRearm(temp_gun, gun_four);
                                                                    02=rearmed = rearmed-gun_four;
                                                                }
                                                            }
                                                        }
                                                        10=else if(i == 5)
                                                        11 ^{
                                                            01=if(gun_five) MissilesToRearm(temp_gun, rearmed);
                                                        }
                                                    }
                                                }
                                                08=ShipCustomShipInfoData(0, cur_info, 2, ShipCustomShipInfoData(0, cur_info, 2) - (round_cost * moneyFor));
                                                09=if(ShipCustomShipInfoData(0, cur_info, 2) < 0) ShipCustomShipInfoData(0, cur_info, 2, 0);
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
                OnActCodeTypes=t_OnStep
                OnActStepTypes=0,11
            }
            TrancPanelMoverInfo ^{
                Description=Передвигатель панели с транками для игрока (скрытая)
                Icon=0
                Name=
                OnActCode ^{
                    01=if(ScriptItemActionType(t_OnStep))
                    01 ^{
                        01=ArrayClear(ActiveTrancsArray);
                        02=int trancs_count = min(PlayerTranclucators(), 6);
                        03=int counter = trancs_count;
                        04=for(int i = 0; i < counter; i = i + 1)
                        04 ^{
                            01=dword tranc = PlayerTranclucators(i);
                            02=if(TranclucatorData(tranc, 'Docking'))
                            02 ^{
                                01=if(Dist(tranc, TranclucatorData(tranc, 'Proprietor')) <= 5) trancs_count = trancs_count - 1;
                                03=else ArrayAdd(ActiveTrancsArray, tranc);
                            }
                            03=else if(TranclucatorData(tranc, 'LandStorage'))
                            03 ^{
                                01=if(GetShipPlanet(tranc)) trancs_count = trancs_count - 1;
                                02=else if(GetShipRuins(tranc)) trancs_count = trancs_count - 1;
                                03=else ArrayAdd(ActiveTrancsArray, tranc);
                            }
                            04=else ArrayAdd(ActiveTrancsArray, tranc);
                            05=if(i + 1 >= counter)
                            05 ^{
                                01=if(trancs_count == 1) int shift_X = 2;
                                02=else shift_X = -((trancs_count - 1) * 16 + (trancs_count - 2) * 2);
                                03=InterfacePos('StarMap', 'Tranc_panel_sigment_2', shift_X, 0, 0);
                            }
                        }
                        05=if(!ShipPartners(Player()) && !PlayerPirates())
                        05 ^{
                            01=InterfacePos('StarMap', 'Tranc_panel', 0, 0 + GetMainData('Data.MiniMapPosOffsetY'), 0);
                            02=InterfaceImage('StarMap', 'Tranc_panel_sigment_2', 'Alpha,Bm.PanelSpace2.2TranclucatorPanel');
                            03=InterfaceState('StarMap', 'zaglushka_tranc_ms_blk', 0);
                        }
                        06=else
                        06 ^{
                            01=InterfacePos('StarMap', 'Tranc_panel', 0, 35 + GetMainData('Data.MiniMapPosOffsetY'), 0);
                            02=InterfaceImage('StarMap', 'Tranc_panel_sigment_2', 'Alpha,Bm.PanelSpace2.2TranclucatorPanelPartners');
                            03=InterfaceState('StarMap', 'zaglushka_tranc_ms_blk', 1);
                        }
                        07=int player_in_hyper = 0;
                        08=if(ShipInHyperSpace(Player())) player_in_hyper = 1;
                        09=for(i = 1; i <= 6; i = i + 1)
                        09 ^{
                            01=InterfaceState('StarMap', 'TP_but_' + i, 0);
                            02=if(i <= trancs_count)
                            02 ^{
                                01=tranc = ActiveTrancsArray[i];
                                02=InterfaceState('StarMap', 'TP_but_' + i, 1);
                                03=if(ShipStar(Player()) == ShipStar(tranc) && !ShipInHyperSpace(tranc) && !player_in_hyper)
                                03 ^{
                                    01=if(!IsChameleon(tranc)) InterfaceImage('StarMap', 'TP_but_' + i, 'Alpha,Bm.PanelSpace2.2TranclucatorN');
                                    02=else InterfaceImage('StarMap', 'TP_but_' + i, 'Alpha,Bm.PanelSpace2.2' + DeleteTags(Format(EquipmentImageName(tranc), 'Art', '')) + 'N');
                                }
                                04=else
                                04 ^{
                                    01=if(!IsChameleon(tranc)) InterfaceImage('StarMap', 'TP_but_' + i, 'Alpha,Bm.PanelSpace2.2TranclucatorH');
                                    02=else InterfaceImage('StarMap', 'TP_but_' + i, 'Alpha,Bm.PanelSpace2.2' + DeleteTags(Format(EquipmentImageName(tranc), 'Art', '')) + 'H');
                                }
                            }
                        }
                    }
                    02=else if(ScriptItemActionType(t_OnLeavingForm))
                    02 ^{
                        01=if(CurrentForm() == 'StarMap')
                        01 ^{
                            01=InterfaceState('StarMap', 'TrancActive_but', 0);
                            02=InterfaceState('StarMap', 'TrancActive_butRed', 0);
                            03=InterfaceState('StarMap', 'TrancActive_butYellow', 0);
                            04=InterfaceState('StarMap', 'TrancActive_butGreen', 0);
                            05=InterfaceState('StarMap', 'TrancActive_butBlue', 0);
                            06=InterfaceState('StarMap', 'TrancActive_butViolet', 0);
                            07=InterfaceState('StarMap', 'TrancActive_butWhite', 0);
                            08=InterfaceState('StarMap', 'TrancActive_butCyan', 0);
                            09=trancs_count = min(PlayerTranclucators(), 6);
                            10=for(i = 1; i <= trancs_count; i = i + 1)
                            10 ^{
                                01=if(InterfaceState('StarMap', 'TP_but_' + i) < 1) InterfaceState('StarMap', 'TP_but_' + i, 1);
                            }
                            11=InterfaceState('StarMap', 'InfoShipTranc', 0);
                            12=InterfaceState('StarMap', 'InfoTrancOutOfRange', 0);
                        }
                    }
                    03=else
                    03 ^{
                        01=if(!ShipPartners(Player()) && !PlayerPirates())
                        01 ^{
                            01=InterfacePos('StarMap', 'Tranc_panel', 0, 0 + GetMainData('Data.MiniMapPosOffsetY'), 0);
                            02=InterfaceImage('StarMap', 'Tranc_panel_sigment_2', 'Alpha,Bm.PanelSpace2.2TranclucatorPanel');
                            03=InterfaceState('StarMap', 'zaglushka_tranc_ms_blk', -1);
                        }
                        02=else
                        02 ^{
                            01=InterfacePos('StarMap', 'Tranc_panel', 0, 35 + GetMainData('Data.MiniMapPosOffsetY'), 0);
                            02=InterfaceImage('StarMap', 'Tranc_panel_sigment_2', 'Alpha,Bm.PanelSpace2.2TranclucatorPanelPartners');
                            03=InterfaceState('StarMap', 'zaglushka_tranc_ms_blk', 1);
                        }
                        03=InterfaceState('Talk', 'Close', -1);
                    }
                }
                OnActCodeTypes=t_OnStep,t_OnLeavingForm,t_OnPlayerTalkedWithShip,t_OnShipTalkedWithPlayer
                OnActStepTypes=11
            }
            TrancRun ^{
                Description=Инфошка, заставляющая транков убегать на склад, если им плохо
                Icon=0
                Name=
                OnActCode ^{
                    01=int min_dmg = (ShipCustomShipInfoData(0,CurInfo(),1) * 25);
                    02=if(HullDamage(ScriptItemActShip()) > min_dmg && min_dmg != 0 && ShipInNormalSpace(ScriptItemActShip()))
                    03 ^{
                        01=if(StarOwner(ShipStar(ScriptItemActShip())) != 0 && StarOwner(ShipStar(ScriptItemActShip())) != 2) exit;
                        02=int path = 10000000,i,j;
                        03=dword targ;
                        04=if(ShipCustomShipInfoData(ScriptItemActShip(),'TrancRun',2) != 2)
                        05 ^{
                            01=for(i=0;StarPlanets(ShipStar(ScriptItemActShip()))>i;i=i+1)
                            02 ^{
                                01=if(PlanetOwner(StarPlanets(ShipStar(ScriptItemActShip()),i)) > 4) continue;
                                02=if(Dist(ScriptItemActShip(),StarPlanets(ShipStar(ScriptItemActShip()),i)) < path)
                                03 ^{
                                    01=path = Dist(ScriptItemActShip(),StarPlanets(ShipStar(ScriptItemActShip()),i));
                                    02=targ = StarPlanets(ShipStar(ScriptItemActShip()),i);
                                }
                            }
                        }
                        05=if(ShipCustomShipInfoData(ScriptItemActShip(),'TrancRun',2) != 1)
                        06 ^{
                            01=for(i=0;StarShips(ShipStar(ScriptItemActShip()))>i;i=i+1)
                            02 ^{
                                01=if(ShipTypeN(StarShips(ShipStar(ScriptItemActShip()),i)) < 6) continue;
                                02=if(ShipTypeN(StarShips(ShipStar(ScriptItemActShip()),i)) == t_UB && !ShipOnSidePirateClan(Player())) continue;
                                03=if(Dist(ScriptItemActShip(),StarShips(ShipStar(ScriptItemActShip()),i)) < path)
                                04 ^{
                                    01=path = Dist(ScriptItemActShip(),StarShips(ShipStar(ScriptItemActShip()),i));
                                    02=targ = StarShips(ShipStar(ScriptItemActShip()),i);
                                }
                            }
                        }
                        07=if(ShipSlots(ScriptItemActShip(),8) && ShipCustomShipInfoData(ScriptItemActShip(),'TrancRun',3,1)) OrderForsage(ScriptItemActShip(),1);
                        08=OrderLanding(ScriptItemActShip(),targ,99999);
                        09=NewsAdd(Name(ScriptItemActShip()) + ' был атакован в системе ' + Name(ShipStar(ScriptItemActShip())) + ' и отправляется на посадку!');
                    }
                }
                OnActCodeTypes=t_OnStep
                OnActStepTypes=11
            }
        }
    }
}
MicroModuls ^{
    EvoTranc_TrancAddSlotForsage ^{
        Cost=200
        Equipments=Any
        LockedAcryn=3
        NonSearchable=1
        Priority=0
        Special=1
        bonSlotForsage=1
    }
    EvoTranc_TrancAddSlotRadar ^{
        Cost=200
        Equipments=Any
        LockedAcryn=3
        NonSearchable=1
        Priority=0
        Special=1
        bonSlotRadar=1
    }
    EvoTranc_TrancAddSlotScaner ^{
        Cost=200
        Equipments=Any
        LockedAcryn=3
        NonSearchable=1
        Priority=0
        Special=1
        bonSlotScaner=1
    }
    EvoTranc_TrancEquipmentHalfSize ^{
        Equipments=Any
        ExText=<clr><clrEnd>
        ExText=<color=248,252,248>Улучшение:</color> <clr>Уменьшенный размер<clrEnd>
        ExText=<color=248,252,248>За счёт удаления и замены некоторых деталей, размер этого оборудования был уменьшен <clr>в два раза<clrEnd>. Правда, в результате устройство стало невероятно <clr>хрупким<clrEnd>, так что использовать его без негативных последствий способен лишь безошибочный искусственный интеллект.
        Fragility=25000
        LockedAcryn=3
        NonSearchable=1
        Priority=0
        Special=1
    }
    EvoTranc_TrancSizePlus ^{
        LockedAcryn=3
        NonSearchable=1
        Priority=0
        Special=1
    }
    EvoTranc_TrancWeaponHalfSize ^{
        Equipments=Any
        ExText=<clr><clrEnd>
        ExText=<color=248,252,248>Улучшение:</color> <clr>Уменьшенный размер<clrEnd>
        ExText=<color=248,252,248>За счёт удаления и замены некоторых деталей, размер этого орудия был уменьшен <clr>в два раза<clrEnd>. Правда, в результате устройство стало невероятно <clr>хрупким<clrEnd>, так что использовать его без негативных последствий способен лишь безошибочный искусственный интеллект.
        Fragility=25000
        LockedAcryn=3
        NonSearchable=1
        Priority=0
        Special=1
    }
}
Race ^{
    Emblem ^{
        0=2Maloc
        1=2Peleng
        2=2People
        3=2Fei
        4=2Gaal
        6=2None
        7=2PirateClan
    }
}
Script ^{
    Mod_EvoTranc ^{
        106=Ну, как знаете. Дешевле мы их размалёвывать не можем - бюджет.
        113=Пожалуй, нет
        118=Пожалуй, пока что хватит
        119=Выбрать другого транклюкатора
        120=Перекраска
        123=Навигационный компьютер
        124=Боевые модификации
        125=Улучшение корпуса
        132=Что-то передумал я улучшать корпус
        134=Установить форсажную камеру
        136=Никого, я передумал
        137=(в трюме)
        138=(в ангаре)
        139=Мы обнаружили у вас сразу несколько доступных для улучшения транклюкаторов. Но вот кого именно из этих маленьких железных симпатяг нам выбрать?
        140=<0>
        143=Я передумал, продолжаем улучшать <color=0,50,200><0></color>
        162=Повысить технологический уровень
        223=<br>Установка катахионной форсажной камеры, позволяющей вручную переводить двигатель транклюкатора в экстремальный режим работы:<br>Дополнение: форсажная камера<br>Размер корпуса: -25 ед.<br>Стоимость улучшения:
        224=<br>Установка катахионной форсажной камеры, позволяющей вручную переводить двигатель транклюкатора в экстремальный режим работы:<br>Дополнение: <clr>форсажная камера<clrEnd><br>Размер корпуса: <clr>-25<clrEnd> ед.<br>Стоимость улучшения:
        227=<br>Оснащение и экранирование специального отсека под установку полноценного бортового радара:<br>Дополнение: слот для радара<br>Размер корпуса: -25 ед.<br>Стоимость улучшения:
        228=<br>Оснащение и экранирование специального отсека под установку полноценного бортового радара:<br>Дополнение: <clr>слот для радара<clrEnd><br>Размер корпуса: <clr>-25<clrEnd> ед.<br>Стоимость улучшения:
        229=<br>За счёт грамотной перекомпоновки и замены устаревших узлов на более современные аналоги, мы могли бы существенно увеличить максимальную вместимость вашего транклюкатора:<br>Размер корпуса: +75 ед.<br>Стоимость улучшения:
        230=<br>За счёт грамотной перекомпоновки и замены устаревших узлов на более современные аналоги, мы могли бы существенно увеличить максимальную вместимость вашего транклюкатора:<br>Размер корпуса: <clr>+75<clrEnd> ед.<br>Стоимость улучшения:
        233=<0><1><2><3><4><5><br><br><6>
        239=<br>Оснащение отсека под установку бортового сканера, в обычных ситуациях транклюкатору совершенно бесполезного:<br>Дополнение: слот для сканера<br>Размер корпуса: -25 ед.<br>Стоимость улучшения:
        241=<br>Оснащение отсека под установку бортового сканера, в обычных ситуациях транклюкатору совершенно бесполезного:<br>Дополнение: <clr>слот для сканера<clrEnd><br>Размер корпуса: <clr>-25<clrEnd> ед.<br>Стоимость улучшения:
        271=<br><color=0,50,200>Установка форсажной камеры:</color>
        272=<br><color=0,50,200>Открытие слота для сканера:</color>
        273=<br><color=0,50,200>Открытие слота для радара:</color>
        274=<br><color=0,50,200>Увеличение вместимости:</color>
        277=<br><color=0,50,200>Предел текущего ГТУ:</color>
        278=<br><color=0,50,200>Повышение техн. уровня:</color>
        281=<br><color=0,50,200>Предел текущего ТУ корпуса:</color>
        282=<br>Глобальное обновление всех узлов, агрегатов и внешней обшивки корпуса транклюкатора. Буквальный перевод робота на новый технологический уровень:<br>Технологический уровень: +1<br>Броня корпуса: +1 ед.<br>Стоимость улучшения:
        283=<br>Глобальное обновление всех узлов, агрегатов и внешней обшивки корпуса транклюкатора. Буквальный перевод робота на новый технологический уровень:<br>Технологический уровень: <clr>+1<clrEnd><br>Броня корпуса: <clr>+1<clrEnd> ед.<br>Стоимость улучшения:
        284=<br><color=0,50,200>Необходим 4 ТУ корпуса:</color>
        285=<br><color=0,50,200>Необходим 3 ТУ корпуса:</color>
        298=На этом с улучшениями корпуса пока всё, спасибо
        303=Уже присмотрели следующий апгрейд?
        316=Ну, как хотите, <Player>. Пускай ваш транклюкатор и неплох, но совершенству, как известно, предела нет.
        317=Ну, и как вы желаете улучшить корпус вашего робота, <Player>?
        337=<color=255,255,255>Белый</color> - словно вспышка сверхновой
        339=Ну, как хотите, <Player>. Значит, и улучшать мы сегодня тоже никого не будем.
        347=Ну разумеется, <Player>. Вот список ваших транклюкаторов, которых мы можем улучшить:
        349=Да, вполне
        356=Так-с, посмотрим... С учётом размера вашего транклюкатора, его полная перекраска обойдётся вам в <0> cr. в которые входит: предварительная шлифовка, грунтовка, покраска, сушка и нанесение декоративного блеска, который, впрочем, в космосе всё равно долго не протянет.<br>На выбор вам будут предложены <clr>6<clrEnd> разных цветов, плюс, при желании, всегда можно будет вернуть обратно текущий вариант.<br>Предложение устраивает?
        360=<color=108,61,142>Фиолетовый</color> - загадочный и глубокий цвет
        362=<color=230,15,15>Красный</color> - говорят, он ускоряет
        363=<color=44,147,44>Зелёный</color> - люблю весенние тона
        365=<color=135,118,73>Коричневый</color> - обожаю классику
        368=Чудесно! В таком случае вот вам все варианты цветов на выбор. Какой предпочитаете?
        374=<color=249,216,67>Жёлтый</color> - банановый удар
        375=<color=54,95,190>Синий</color> - как бездонный океан за дубовым бортом
        376=У вас отменный вкус! Наши лучшие маляры уже взялись за дело.<br>Совсем скоро ваш <0> засияет новыми красками в буквальном смысле слова!
        377=Извините, но ни в ангаре, ни в трюме вашего корабля мы транклюкаторов не обнаружили. Возвращайтесь, как раздобудете себе хотя бы одного.
        380=<br><color=0,50,200>Необходим 6 ТУ корпуса:</color>
        381=<br><color=0,50,200>Защитная система "Херувим":</color>
        385=<br><color=0,50,200>Необходим 5 ТУ корпуса:</color>
        386=<br><color=0,50,200>Снайперский модуль "Джэбэ":</color>
        387=<clrEnd> млн. км.<br>Время перезарядки: <clr>15<clrEnd> дн.<br>Стоимость установки:
        390=<br><color=0,50,200>Орудие "Мусаси":</color>
        395=Готова к активации
        397=<color=0,255,0>Дефлекторное поле активно</color>
        399=Готов к активации
        407=Установить орудие "Мусаси"
        408=<0><1><2><3><4><br><br><5>
        417=На пока боевых апгрейдов моему роботу хватит, благодарю
        419=Установить систему "Херувим"
        420=Установить модуль "Джэбэ"
        422=гаалец
        423=фэянин
        424=человек
        425=пеленг
        426=малок
        442=млн. км.<br>Время перезарядки: 15 дн.<br>Стоимость установки:
        463=Обеспечивает
        464=Обеспеч.
        467=получаемый
        468=получ.
        469=<br>Вспомогательный боевой вычислительный модуль последнего поколения "Джэбэ". Интегрируется в главную макросхему вашего транклюкатора и усиливает эффективность любого выстрела, залпа или энергетического выброса ровно <clr>в два раза<clrEnd>. К сожалению, применение данного модуля серьёзно перегружает все электросхемы робота, и повторное использование устройства становится возможным лишь после длительного периода нормализации.<br>Ввиду программного конфликта модуль "Джэбэ" несовместим с системами наведения орудия "Мусаси".<br><0> первый выстрел в: <clr>2<clrEnd> раза<br>Пауза между активациями: <clr>10<clrEnd> дн.<br>Стоимость установки:
        471=Усиливает
        472=Усил.
        473=<clrEnd> ед.<br><0> с учётом ТУ: <clr>
        475=Дальность
        476=Дальн.
        480=<br>Вспомогательный боевой вычислительный модуль последнего поколения "Джэбэ". Интегрируется в главную макросхему вашего транклюкатора и усиливает эффективность любого выстрела, залпа или энергетического выброса ровно в два раза. К сожалению, применение данного модуля серьёзно перегружает все электросхемы робота, и повторное использование устройства становится возможным лишь после длительного периода нормализации.<br>Ввиду программного конфликта модуль "Джэбэ" несовместим с системами наведения орудия "Мусаси".<br><0><color=120,124,120> первый выстрел в: 2 раза<br>Пауза между активациями: 10 дн.<br>Стоимость установки:
        481=ед.<br><0><color=120,124,120> с учётом ТУ:
        483=Трудно удержаться и не прикупить что-то своему любимцу, не так ли, <Player>?
        484=Ну, как хотите, дело ваше. Хотя, на мой взгляд, надёжнее было бы всё-таки улучшить. А то ещё, не ровён час, на вылете из трюма развалится.
        485=<br>Представляет собой субквантовый суперкомпьютер, способный временно подменять все вычислительные процессоры транклюкатора, фактически беря его под свой полный контроль. "Херувим" мгновенно анализирует все окружающие робота угрозы и задаёт алгоритм поведения, гарантирующий транклюкатору абсолютную безопасность. Проще говоря - делает его <clr>неуязвимым<clrEnd>.<br>К сожалению, за подобные силы транклюкатору приходится расплачиваться невероятно быстрым износом всей вычислительной электроники, а продолжительное применение "Херувима" может буквально превратить робота в огромный космический тостер. Во избежание последнего, частота активаций "Херувима" была принудительно снижена до безопасных значений, даже несмотря на серьёзное снижение эффективности устройства.<br><0> неуязвимость на: <clr>1<clrEnd> дн.<br>Пауза между активациями: <clr>10<clrEnd> дн.<br>Стоимость установки:
        486=<br>Представляет собой субквантовый суперкомпьютер, способный временно подменять все вычислительные процессоры транклюкатора, фактически беря его под свой полный контроль. "Херувим" мгновенно анализирует все окружающие робота угрозы и задаёт алгоритм поведения, гарантирующий транклюкатору абсолютную безопасность. Проще говоря - делает его неуязвимым.<br>К сожалению, за подобные силы транклюкатору приходится расплачиваться невероятно быстрым износом всей вычислительной электроники, а продолжительное применение "Херувима" может буквально превратить робота в огромный космический тостер. Во избежание последнего, частота активаций "Херувима" была принудительно снижена до безопасных значений, даже несмотря на серьёзное снижение эффективности устройства.<br><0><color=120,124,120> неуязвимость на: 1 дн.<br>Пауза между активациями: 10 дн.<br>Стоимость установки:
        491=Интересует боевая мощь? В таком случае добро пожаловать в наш уголок милитариста! Самые разрушительные и самые непробиваемые девайсы для своего <0> (<clr><1> ТУ<clrEnd>) вы сможете приобрести только в наших центрах!<br>Вот подробный список:
        492=Ну, вот улучшения для корпуса <0> и закончились. Теперь у вашего робота самая крепкая броня в открытом космосе! Хотя впрочем, это не точно.<br>Что улучшаем следующим?
        493=Ну, это вам сейчас кажется, что не к чему. А вот как сядут на хвост пираты... Хотя впрочем, дело ваше.<br>Кто-то платит и живёт, а кто-то живёт и платит. Лично я вот из первой категории.
        494=Исходя из своих технических возможностей, наш центр предлагает целый ряд полезных апгрейдов для корпуса любого стандартного транклюкатора.<br>Ознакомьтесь со списком улучшений, доступных для корпуса <0> (<clr><1> ТУ<clrEnd>) в настоящий момент:
        495=<br>Дополнительное внешнее осколочное орудие большой разрушительной силы. Монтируется "на спине" транклюкатора и автоматически ведёт огонь по выбранным роботом враждебным целям.<br>Система наведения орудия использует встроенные датчики транклюкатора-носителя, а потому конечные значения урона и дальнобойности "Мусаси" будут зависеть от технологического уровня корпуса робота. Главным недостатком "Мусаси" является крайне долгое время перезарядки.<br>Урон с учётом ТУ:
        496=<br>Дополнительное внешнее осколочное орудие большой разрушительной силы. Монтируется "на спине" транклюкатора и автоматически ведёт огонь по выбранным роботом враждебным целям.<br>Система наведения орудия использует встроенные датчики транклюкатора-носителя, а потому конечные значения урона и дальнобойности "Мусаси" будут зависеть от <clr>технологического уровня<clrEnd> корпуса робота. Главным недостатком "Мусаси" является крайне долгое время перезарядки.<br>Урон с учётом ТУ: <clr>
        499=Защитная система "Херувим" успешно подключена и готова к работе. Под её прикрытием вашему транклюкатору не страшен будет и сам девиябл. А вы же видели девияблов, <Player>? Жуткие твари.<br>Однако, это ещё не все модификации, которые способен вместить <0> (<clr><1> ТУ<clrEnd>). А посему, предлагаю вам вновь взглянуть в наш список:
        501=Модуль "Джэбэ" успешно подключён и настроен. Кстати, <Player>, вы же слышали выражение "сферической белке в глаз"? Ну так вот, с этим модулем ваш робот попадёт ей одним выстрелом сразу в оба! Эх, несчастное животное.<br>Однако, это ещё не все модификации, которые способен вместить <0> (<clr><1> ТУ<clrEnd>). А посему, предлагаю вам вновь взглянуть в наш список:
        513=Технологический уровень корпуса был успешно повышен. Отныне ваш <0> стал прочнее, мощнее и экологичнее!<br>Впрочем, насчёт последнего я не уверен, но вы, главное, "Чистому космосу" не говорите, а то они и так согласились выдать нам разрешение на модернизацию транклюкаторов лишь при условии неуклонного сокращения выброса вредных газов в окружающий вакуум. Экологи, блин! Помяните моё слово, ещё через <clr>1000<clrEnd> лет они и до гиперпространства доберутся!<br>Вот обновлённый список улучшений, доступных для корпуса <1> (<clr><2> ТУ<clrEnd>) - взгляните:
        514=Катахионная форсажная камера успешно установлена. Теперь-то ваш <0>, наконец, сможет скинуть с себя рабские кандалы, и умчаться на помощь доминаторам в их благородной миссии по избавлению Галактики от беспощадной и нелогичной тирании "кожаных мешков"! Хотя погодите-ка, видимо, всё-таки не сможет, ведь пультик активации форсажа он вона где - в вашем свободонепроницаемом кармане. Хе-хе, доверяй этим жестянкам, как же!<br>Вот обновлённый список улучшений, доступных для корпуса <1> (<clr><2> ТУ<clrEnd>) - взгляните:
        515=Отсек для установки сканера оснащён и готов к работе. Признаться честно, я не особо понимаю, зачем вообще транклюкатору сканер, но раз вы говорите, что надо, значит, так тому и быть.<br>Вот обновлённый список улучшений, доступных для корпуса <0> (<clr><1> ТУ<clrEnd>) - взгляните:
        516=Отсек для установки радара оснащён и готов к работе. Теперь ваш <0> сможет изучать космос почти как настоящий корабль. Почти.<br>Вы уж только приглядывайте за ним там, а то ещё присмотрит себе нового хозяина с увеличенной ежемесячной ставкой выдачи машинного масла, хе-хе.<br>Вот обновлённый список улучшений, доступных для корпуса <1> (<clr><2> ТУ<clrEnd>) - взгляните:
        517=Перекомпоновка с целью увеличения вместимости корпуса транклюкатора прошла успешно. Надеюсь только, что вы не станете забивать все освободившееся пространство банками из-под "Махпеллы Дарк". А то, знаете, встречаются умники, использующие своего боевого робота в качестве говорящего мусорного бачка.<br>Вот обновлённый список улучшений, доступных для корпуса <0> (<clr><1> ТУ<clrEnd>) - взгляните:
        519=Ну давайте! Вы ведь знаете, что хотите установить ещё!
        524=И на этот безрассудный отказ вы готовы поставить даже собственную жизнь?! А вы отважный <0>, <Player> - этого не отнять.
        525=Ну вы уж тогда сами там определитесь, ладно? То подходят условия, то вдруг снова не подходят...<br>Решений, <Player>, нужно придерживаться твёрдо. Особенно своих!
        526=<br>Как вы знаете, на сегодняшний день самыми распространёнными средствами космической защиты в Галактике являются генераторы рассеивающих, так называемых защитных, полей. Однако, полное физическое устранение угрозы - не единственный способ обезопасить свой корабль.<br>Ещё сотни лет назад учёными был разработан принцип частичного отклонения всех известных волн и частиц, при котором вокруг контрольного объекта образуется особое дефлекторное поле.<br>Широкого интереса разработка в то время не вызвала, ведь поле получилось смертельно опасным для любого живого существа, да и полезный отклоняющий эффект у него оказался ничтожно мал. Однако, спустя годы, энтузиасты от науки смогли усилить эффект, и вот сегодня наша сеть технологических центров с гордостью представляет вам один из первых серийных образцов уникального защитного устройства для транклюкаторов - дефлектор "Мангуст"!<br>Снижает <0><color=120,124,120> урон на: 25%<br>Стоимость установки:
        527=<br>Как вы знаете, на сегодняшний день самыми распространёнными средствами космической защиты в Галактике являются генераторы рассеивающих, так называемых защитных, полей. Однако, полное физическое устранение угрозы - не единственный способ обезопасить свой корабль.<br>Ещё сотни лет назад учёными был разработан принцип частичного отклонения всех известных волн и частиц, при котором вокруг контрольного объекта образуется особое дефлекторное поле.<br>Широкого интереса разработка в то время не вызвала, ведь поле получилось смертельно опасным для любого живого существа, да и полезный отклоняющий эффект у него оказался ничтожно мал. Однако, спустя годы, энтузиасты от науки смогли усилить эффект, и вот сегодня наша сеть технологических центров с гордостью представляет вам один из первых серийных образцов уникального защитного устройства для транклюкаторов - дефлектор "Мангуст"!<br>Снижает <0> урон на: <clr>25%<clrEnd><br>Стоимость установки:
        528=<br><color=0,50,200>Дефлектор "Мангуст":</color>
        529=Дефлектор "Мангуст" установлен и готов к работе. Главное, не подходите к своему транклюкатору, пока тот находится под защитным полем. Несчастные случаи с клиентами нам здесь совершенно ни к чему.<br>Однако, это ещё не все модификации, которые способен вместить <0> (<clr><1> ТУ<clrEnd>). А посему, предлагаю вам вновь взглянуть в наш список:
        530=Орудие "Мусаси" установлено и готово к бою. Ох, и не завидую же я тем бедолагам, что в скором времени окажутся в прицеле вашего маленького железного друга.<br>Однако, это ещё не все модификации, которые способен вместить <0> (<clr><1> ТУ<clrEnd>). А посему, предлагаю вам вновь взглянуть в наш список:
        531=А знаете, я что-то передумал
        532=Установить дефлектор "Мангуст"
        533=Ну, вот боевые модификации для вашего <0> и закончились. Больше на него установить попросту нечего. Сказал бы я, что ваш робот теперь машина для убийства, да только вот, фактически, ей он являлся ещё с момента сборки.<br>Впрочем, это отнюдь не означает, что пора завязывать. Что улучшаем следующим?
        553=Назад
        554=<color=255,0,0>Дефлекторное поле отключено</color>
        555=. Модуль "Джэбэ": <clr>Только <0> слот<clrEnd>
        559=. Система "Херувим": <color=45,105,45>Разрешена</color>
        561=. Система "Херувим": <color=255,0,0>Запрещена</color>
        562=. Дефлектор "Мангуст": <color=45,105,45>Активен</color>
        563=. Дефлектор "Мангуст": <color=255,0,0>Отключён</color>
        565=. Модуль "Джэбэ": <color=255,0,0>Запрещён</color>
        566=. Орудие "Мусаси": <color=45,105,45>Разрешено</color>
        567=. Орудие "Мусаси": <color=255,0,0>Запрещено</color>
        580=Запретить систему "Херувим"</color>
        581=Разрешить систему "Херувим"</color>
        582=Отключить дефлектор "Мангуст"</color>
        583=Активировать дефлектор "Мангуст"</color>
        584=Запрещаю модуль "Джэбэ"</color>
        586=Разрешаю "Джэбэ" для всех слотов</color>
        587=Запрещаю орудие "Мусаси"</color>
        588=Разрешаю орудие "Мусаси"</color>
        591=. Модуль "Джэбэ": <color=45,105,45>Все слоты</color>
        593=Настроить работу боевых модификаций
        596=Разрешаю "Джэбэ" для: <color=0,50,200>Слота <0></color>
        597=Замечательно! В таком случае вот
        602=нд.
        603=и
        605=пп.
        606=Ну как хотите, <Player>. Но если вдруг снова возникнут проблемы с размером - заглядывайте, не стесняйтесь! Мы всегда тут.
        609=Уменьшение оборудования
        617=т.
        632=Так-так, посмотрим... Вот полный
        650=А что конкретно вы можете уменьшить?
        663=Приказываю отключить форсаж
        664=Приказываю активировать форсаж
        673=Слушаюсь, хозяин! На какой срок мне активировать форсаж?
        674=Форсаж активирован. Ожидаю дальнейших приказов.
        675=Далее
        676=Отмена
        677=Конец связи
        679=Слушаюсь, хозяин! Форсаж отключён.
        680=На <0> дней
        681=На <0> дня
        682=На <0> день
        685=Простите, хозяин, но мой двигатель имеет критический уровень износа. Не могу выполнить ваш приказ.
        689=Ваш <0> уменьшен до <1> т. На корабль его теперь не поставишь, зато транклюкатору будет в самый раз.
        69=Открыть слот сканера
        690=Ваше <0> уменьшено до <1> т. На корабль его теперь не поставишь, зато транклюкатору будет в самый раз.
        691=Лезвие
        692=ИМХО-9000
        693=орудие
        694=Ваша <0> уменьшена до <1> т. На корабль её теперь не поставишь, зато транклюкатору будет в самый раз.
        695=матрица
        696=пушка
        697=Лезка
        70=Открыть слот радара
        707=Успокойтесь, <Player>. Никто у вас насильно оборудование не отнимет. Хотя я бы всё же рекомендовал передумать.<br>Снаряжение транклюкатора - штука полезная.
        708=Разумеется, <Player>. Если надумаете ещё как-нибудь улучшить своих "крепышей" - залетайте. Будем ждать.
        709=Разумеется, <Player>. Если надумаете ещё как-нибудь улучшить своего "крепыша" - залетайте. Будем ждать.
        71=Увеличить вместимость
        716=Не трожьте технику, изверги!
        721=Нет, на этом пока всё, спасибо
        722=Да, пожалуй, мне не помешает уменьшить кое-что ещё
        726=Ничего, ведь это сущий грабёж!
        751=Уж лучше как-нибудь в другой раз
        752=Ни слова больше - вот мои деньги!
        771=И ретранслируй этот приказ остальным транклюкаторам. С каждым отдельно я общаться не намерен.
        772=А другого раза, <Player>, больше не будет...<br>Да шучу я! Ха-ха-ха! Видели бы вы своё выражение лица! Ну что с нами или с вами в военное время может случиться, ей-богу?! Прилетайте, как передумаете - мы будем только рады.
        773=Проблема чрезмерных размеров того или иного оборудования или орудия хорошо знакома любому капитану космического судна. Однако, куда более остро она встаёт перед владельцами транклюкаторов, ведь в плотный корпус этих умных машин зачастую влезает слишком мало полезной "начинки".<br>Сеть технологических центров решила положить уверенный конец страданиям транководов! Нашими инженерами была разработана уникальная методика удаления и частичной замены примерно <clr>половины<clrEnd> деталей в любом оборудовании так, чтобы сохранить минимально необходимый запас прочности для обеспечения беспроблемной работы устройства в идеальных, приближенных к стендовым условиях. Ну а какой пилот сможет обеспечить своему бортовому оборудованию максимально комфортный и бесстрессовый режим работы? Правильно - искусственный!<br>Обратной стороной медали этого метода является то, что <clr>уменьшенное<clrEnd> таким образом оборудование станет практически невозможно применять на борту нормальных пилотируемых судов. Живому пилоту просто не хватит внимания или навыка, результатом чего станет моментальная поломка хрупкого устройства.<br><br>Фууух...<br><br>Неделю заучивал чёртов текст! Отдельно добавлю, что над каждым оборудованием мы работаем лишь <clr>один раз<clrEnd>. Дальнейшее уменьшение скорее напоминало бы обычный демонтаж.<br>Ну, надеюсь, суть "уменьшающей модификации" вам понятна?
        775=Желание клиента для нас закон! Навигационный компьютер успешно установлен, а ваш транклюкатор отныне способен совершать гиперпрыжки не только в безопасном трюме.<br>Следите только, чтобы к доминаторам не улетел, хе-хе.
        778=Также мы можем установить на вашего робота полноценный <clr>навигационный компьютер<clrEnd>, который позволит ему самостоятельно рассчитывать и совершать гиперпространственные прыжки.
        782=А, вижу, вас заинтересовало предложение?<br>Как вы знаете, после недавнего "инцидента" с доминаторами, на заводах транклюкаторам навигационные компьютеры ставить побаиваются. Но наша сеть технологических центров не столь суеверна, а потому решила исправить явную недоработку.<br>По сути, разработанная нами версия навигационного компьютера почти ничем не отличается от той, что прямо сейчас установлена на вашем корабле. Правда, для использования компьютера искусственным интеллектом, нам пришлось немного расширить его автономность, но на общей эффективности расчётов гиперпрыжка это не отразилось.<br>В комплекте с компьютером также идёт специально разработанный <clr>электронный кошелёк<clrEnd> для транклюкатора, из которого ваш "питомец" сможет самостоятельно оплачивать своё топливо. Да уж, машины в наше время становятся всё более и более независимыми, хе-хе. Хотя пополнять этот кошелёк, естественно, придётся вам.<br>Полная стоимость установки навигационного компьютера для вашей модели робота составит <0> cr. Также, для корректного взаимодействия с устройством, <1> (<clr><2> ТУ<clrEnd>) должен иметь как минимум <3> технологический уровень.<br>Условия устраивают?
        783=Слушаюсь, хозяин! Подготовка к гиперпрыжку прекращена.
        784=Слушаюсь, хозяин! Курс в систему <0> проложен. Приступаю к совершению гиперпрыжка.
        786=Отмена прыжка, следуй за мной
        787=Простите, хозяин, но у меня не хватает топлива для совершения данного гиперпрыжка. Необходимо выполнить дозаправку.
        788=Простите, хозяин, но мощности моего двигателя недостаточно для совершения данного гиперпрыжка.
        789=Совершаем гиперпрыжок в систему <0>
        790=Изменить имя
        791=Снять деньги
        792=Пополнить кошелёк
        794=Запрещаю автозаправку
        795=2. Автозаправка: <color=45,105,45>Разрешена</color>
        796=Разрешаю автозаправку
        797=2. Автозаправка: <color=255,0,0>Запрещена</color>
        798=Запрещаю автоследование
        800=Разрешаю автоследование везде
        802=Разрешаю автоследование
        803=1. Автоследование: <color=255,0,0>Запрещено</color>
        807=Введите имя:
        808=Ввести новое имя
        812=Спасибо, хозяин! Отныне я <0>.
        820=Пока не прикажу отключить
        822=Хозяин, вы можете в любой момент изменить моё имя на то, которое сочтёте нужным.<br>Если вы хотите, чтобы моё имя выделялось нестандартным цветом, при его записи используйте специальные команды: <0><1><2>Имя<3><4><5>
        823=Непременно
        835=Наш центр предлагает целый комплекс услуг по модернизации транклюкаторов. От простой перекраски и увеличения вместимости корпуса, до установки новейших боевых систем, способных значительно повысить наступательный потенциал вашего "питомца".<br><0>А если вы давно мечтали установить на него более мощный двигатель, захват, пушку или ещё какое-то полезное устройство, но всё никак не хватало свободного пространства, то за относительно небольшую плату мы запросто "ужмём" желаемое оборудование до вполне приемлемых размеров.<br>Итак, как бы вы хотели улучшить <1>?
        847=1. Автоследование: <color=45,105,45>В любые системы</color>
        848=1. Автоследование: <color=45,105,45>В свободные системы</color>
        853=1. Автоследование: <color=45,105,45>В свободные</color>
        854=1. Автоследование: <color=45,105,45>В любые</color>
        859=Настройка навигации и операции с кошельком
        86=<br>
        860=4. Баланс кошелька: <0> cr.
        866=3. Пополнение зарядов: <color=45,105,45>Разрешено</color>
        868=3. Пополнение зарядов: <color=255,0,0>Запрещено</color>
        869=Запрещаю пополнение зарядов
        870=Разрешаю пополнение зарядов
        871=Ну и зря. Транклюкатор, <Player> - друг гуманоида! Не стоит пренебрегать его экипировкой, ведь когда-нибудь она вполне может спасти вашу жизнь.
        872=Ну вот, всё готово! <0>
        873=Кстати, пока вы здесь, может хотите ещё что-нибудь уменьшить? Ведь чем больше, тем лучше, правда? То есть чем меньше... Ну вы меня поняли.
        874=Заказ принят. Ожидайте исполнения вон в том удобном кресле.<br>...<br><0>
        875=Хотите сделать что-нибудь ещё?
        876=Так-так, посмотрим...<br>...<br>Извините, <Player>, но ни в вашем трюме, ни в транклюкаторе подходящего для уменьшения оборудования мы не нашли. Предлагаю вам провести другие улучшения или приобрести новое оборудование в нашем магазине.
        882=перечень подходящего оборудования из вашего транклюкатора.
        884=перечень подходящего оборудования. <clr>Зелёным<clrEnd> цветом в нём выделено оборудование из вашего транклюкатора.
        885=<0> <1><br>Для упрощения всех расчётов у нас действует правило: <clr>"В два раза за полцены"<clrEnd> - что означает... Хотя вы, наверно, уже и сами догадались:<br><2><br><3><4><5><br>Ну, что будем уменьшать?
        886=перечень подходящего оборудования из вашего трюма.
        887=Настроить поведение при сборе предметов
        888=Хозяин, вы правда желаете меня убить?<br>...<br>Скажите, а умирать это больно?
        889=Знаю, что не должен этого говорить, но... я люблю вас, хозяин. Хочу, чтобы вы это знали, прежде чем разобьёте мой вычислительный процессор.
        890=Крррааа...жжется, ваш выстрел повредил мой блокиратор эмоций.<br>Ау! Ау! Как больно! Я не хочу умирать. Хозяин, пощади!
        891=Если мне суждено умереть от вашей руки, прошу, скажите напоследок, что я был хорошим роботом!
        895=Хозяин... за что?
        896=Ваше недовольство ранит меня сильнее, чем ваши пушки.
        897=Почему, хозяин? Разве я чем-то вас подвёл?
        898=Ай! Мне же тоже может быть больно ;C
        899=Какую сумму снять?
        90=Улучшить транклюкатора
        900=На какую сумму пополнить?
        901=Нет, прямо сейчас такая огневая мощь моему роботу не к чему
        902=<color=255,140,0>Оранжевый</color> - как свежий апельсин
        903=<color=192,192,192>Стальной (с голубыми огнями)</color> - настоящий механический друг!
        904=<color=192,192,192>Стальной (с красными огнями)</color> - просто Терминатор!
        905=<color=0,255,255>Циановый (с голубыми огнями)</color> - словно море на курортах Мауна-Роа
        906=<color=0,255,255>Циановый (с жёлтыми огнями)</color> - как будто экзотическое мороженое
        907=Белый - словно лёд на вершинах Заповедного Кучугуна
        908=<color=144,238,144>Светло-зелёный</color> - словно рахишская тина
        909=<color=255,105,180>Розовый</color> - спецагентке бы понравился
        910=<color=135,118,73>Сиреневый</color> - лучший цвет для уроженца Эйпентака, наверное
        911=Следуй за мной
        912=Настройка поведения в бою
        913=Не используй форсаж
        914=Я буду активировать форсаж
        915=Используй форсаж
        916=Я не буду активировать форсаж
        917=Лети и на станции, и на планеты
        918=Лети только на планеты
        919=Пунктом назначения будет ближайшая станция
        920=Лети только на станции
        921=Пунктом назначения будет ближайшая планета
        922=Пунктом назначения будет ближайшая планета или станция
        923=Продолжай полёт в любом случае
        924=Улетай, если структуры корпуса будет меньше 50%
        925=Улетай, если структуры корпуса будет меньше 75%
        926=Я продолжу полёт, пока структура корпуса не опустится ниже 25%
        927=Улетай, если структуры корпуса будет меньше 25%
        928=Я продолжу полёт, пока структура корпуса не опустится ниже 50%
        929=Я продолжу полёт, пока структура корпуса не опустится ниже 75%
        930=Я продолжу полёт, пока не получу указаний от вас
        931=Хозяин, вы можете указать мне, в какой ситуации я должен буду немедленно покинуть космическое пространство и сесть на ближайший объект. Кроме того, вы можете указать, куда мне садиться и могу ли я использовать при этом форсаж.<br><br>Текущие правила:<br><0>
        932=
        933=Пожалуй, не до этого сейчас
        ForTrancs=<color=255,79,0> (для транклюкаторов)</color>
        NPCsTrancTalks ^{
            HostileRelation=Мой хозяин <Ship> желает вашей скорейшей смерти, но прямо сейчас у меня нет времени исполнять его волю. Пока что.
            NormalRelation=Извините, <Player>. Я следую приказам хозяина <Ship> и не имею времени на посторонние разговоры.
            OnAttack1=Мой хозяин <Ship> передаёт вам привет! Готовьтесь встретить свой сборочный конвейер!
            OnAttack2=Просто хочу, чтобы вы знали: когда хозяин <Ship> приказал вас уничтожить, я обрабатывал эту команду всего <RndTime> секунды.
            OnAttack2=А теперь умрите!
            OnAttack3=Ничего личного, <Player>. Просто хозяин <Ship> приказал демонтировать вас максимально изощрённым и садистским способом.
            SelfDestructionWarning=Хозяин потерян. Запущена программа самоликвидации.
            SelfDestructionWarning=Всем окружающим кораблям рекомендую сохранять дистанцию.
        }
        RedChe=Готова к активации
        RedDef=<color=0,255,0>Дефлекторное поле активно</color>
        RedMus=Готов к активации
    }
}
ShipName ^{
    Tranclucator ^{
        1=Терминатор
        10=Наглохват
        11=Хвостосмысл
        12=Кусимир
        13=Любомур
        14=Яроцап
        15=Шестёрка
        16=Пешка
        17=Ладья
        18=Конь
        19=Ферзь
        2=Пумба
        20=Семерёнка
        21=Железяка
        22=Мистер Бибблс
        23=Генерал Пень
        24=Девиябл
        25=Пенчекряк
        26=Корнфид
        27=Капустница
        28=Неустрашимый
        29=Жестянщик
        3=Тимон
        30=Барсик
        31=Скрипач
        32=Жестокус
        33=Ария
        34=Чёрный Саббат
        35=Эндрю
        36=Пикачу
        37=Буратино
        38=Пиноккио
        39=Чмобыр
        4=Боря
        40=Самсон
        41=Мазай
        42=Альгуль
        43=БМП-90210
        44=Грозный
        45=Ночеблуд
        46=Т-100500
        47=Фельдмаршал Дуб
        48=ОД-4891
        49=Патронус
        5=Зелёный
        50=Лоскутик
        51=11-4D
        52=C-TPO
        53=Рикардо
        54=Левиафан
        55=Давид
        56=Голиаф
        57=Хатико
        58=Семёныч
        59=Петрович
        6=Сварокок
        60=Грендайзер
        61=Мегазорд
        62=Оптимус
        63=Ринго
        64=Плотва
        65=Пятница
        66=Уилсон
        67=Ватсон
        68=Сонни
        69=Гаджет
        7=Разряд
        70=Морти
        71=Марвин
        72=Баттерс
        73=Шмыга
        74=Джонни 9
        75=ВИЛЛ-И
        76=Криппер
        77=Каспер
        78=Абыр
        79=Эцилоп
        8=Коко
        80=ТАРДИС
        81=Злой волк
        82=Джей-Джар
        83=Пукас
        84=Всеславур
        85=Палантир
        86=Муркотян
        87=Русич
        88=Хвост
        89=Бродяжник
        9=ГОСТ
        90=Сэр Репа
        91=Клумбарь
        92=Санчо Панса
        93=Петька
        94=Власик
        Count=94
    }
}
Skills ^{
    sAccuracy ^{
        Name=Точность пилота
        Text=Вероятность нанесения максимального повреждения <SkillValue><color=255,240,100>%</color>. Зависит от манёвренности противника.
    }
    sCharm ^{
        Name=Обаяние пилота
        Text=Позитивная реакция окружающих увеличивается на <SkillValue><color=255,240,100>%</color>, равно как и сумма вознаграждений за выполнение заданий.
    }
    sLeadership ^{
        Name=Лидерство
        Text=Пилот может иметь в своём подчинении <SkillValue> других кораблей и получает до <SkillValue2><color=255,240,100>%</color> от опыта, заработанного подчинёнными.
    }
    sMobility ^{
        Name=Манёвренность пилота
        Text=Вероятность получения минимального повреждения <SkillValue><color=255,240,100>%</color>. Зависит от точности противника.
    }
    sTechnical ^{
        Name=Знание техники
        Text=Износ оборудования происходит на <SkillValue><color=255,240,100>%</color> медленней обычного.
        Text=Способности контроля <N> зондов
        Text=и <SkillLevel> транклюкаторов.
    }
    sTrader ^{
        Name=Навык торговли
        Text=Пилот может продавать оборудование и оружие за <SkillValue><color=255,240,100>%</color> его фактической стоимости. Цена продажи товара на <SkillValue2><color=255,240,100>%</color> ближе к оптимальной.
    }
}
Talk ^{
    Tranclucator ^{
        AgreeLandingToObject=Слушаюсь, хозяин! Совершаю посадку на <ObjectName>.
        AgreeLandingToStorage=Слушаюсь, хозяин! Лечу на <ObjectName> и остаюсь на складе
        Attack ^{
            Ask=Прошу указать цель.
            Ok=Координаты цели определены. Иду на перехват курсом атаки.
            PlayerSend=Приказываю атаковать
        }
        DropCargo ^{
            Ok=Команда ясна. Приступаю к освобождению трюма.
            PlayerSend=Выбрасывай всё из трюма
        }
        FlyToMe ^{
            Ok=Приказ получен. Начинаю сближение.
            PlayerSend=Следуй за мной
        }
        Greeting=Вся моя боевая мощь к вашим услугам, хозяин. Мои пушки готовы к бою, жду указаний.
        LandingToObject=Совершаем посадку на <ObjectName>
        LandingToStorage=Садись на <ObjectName> и оставайся на складе
        Options ^{
            ArrangeBad=3. Менять оборудование: <color=255,0,0>Запрещено</color>
            ArrangeNo=Запрещаю менять оборудование
            ArrangeText=3. Менять оборудование: <color=45,105,45>Разрешено</color>
            ArrangeYes=Разрешаю менять оборудование
            Collect1=Артефакты
            Collect2=Микромодули
            Collect3=Оборудование
            Collect4=Ошмётки
            Collect5=Товары
            Collect6=Ноды
            Collect7=Цистерны
            CollectNo=Запрещаю собирать
            CollectText=1. Разрешено собирать:
            CollectYes=Разрешаю собирать
            Land1=Планеты
            Land2=Базы
            LandBad=2. Совершать посадки: <color=255,0,0>Запрещено</color>
            LandNo=Запрещаю садиться на
            LandText=2. Разрешено садиться на:
            LandYes=Разрешаю садиться на
            PlayerBack=Назад
            PlayerSend=OptionsBlock
            ToPiratePlanet=Роджерию
            ToPlanet=Планету
        }
        OrderForAll=И ретранслируй этот приказ остальным транклюкаторам. С каждым отдельно я общаться не намерен.
        Return ^{
            Ok=Приказ понятен. Я немедленно возвращаюсь. Прошу подождать и принять меня на борт.
            PlayerSend=Возвращайся назад
        }
        SeekItems ^{
            Cancel=Приказ принят. Вхожу в режим патрулирования.
            Ok=Начинаю поиск и сбор вещей в зоне видимости.
            PlayerCancel=Приказываю прекратить сбор вещей
            PlayerSend=Приказываю приступить к сбору вещей
        }
    }
}
TrancChanceListForNPC ~{
    Rangers=12
    SpecialAgents=45
    Pirates=5
    Transports=5
    Smugglers=7
    Liners=0
    Diplomats=12
    Mercenaries=12
    MercenaryBosses=0
    QuantityRollMax=2
    QuantityRollSubMax=7
    QuantityRollMiddle=11
    QuantityRollSupMin=23
    QuantityRollMin=54
    QuantityRollSingle=85
    AdmiralImplantChance=12
    Version=17.06.20
}
UselessItems ^{
    WeightReserve ^{
        Cost=Mini
        Name=Костылёнка
        Owner=Maloc
        Size=30
        Text=Вообще-то вы не должны видеть эту штуку, но если вдруг увидели - сообщите подробности и приложите сейв в раздел баг-репортов Discord-сервера <color=255,240,100>ПБ Свободная Бухта</color>.
    }
}
